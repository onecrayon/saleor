from datetime import timedelta

import pytest
from django.utils import timezone

from firstech.SAP.models import SAPSalesManager
from saleor.account.models import Address, User
from saleor.channel.models import Channel
from saleor.graphql.SAP.mutations.business_partners import (
    upsert_business_partner,
    upsert_business_partner_addresses,
    upsert_business_partner_contacts,
)
from saleor.plugins.manager import get_plugins_manager
from saleor.plugins.models import PluginConfiguration
from saleor.plugins.sap_orders.plugin import SAPPlugin
from saleor.product.models import (
    Product,
    ProductChannelListing,
    ProductType,
    ProductVariant,
    ProductVariantChannelListing,
)
from saleor.shipping.models import (
    ShippingMethod,
    ShippingMethodChannelListing,
    ShippingZone,
)
from saleor.warehouse.models import Warehouse


@pytest.fixture
def sap_sales_order():
    return {
        "odata.metadata": "https://api.myfirstech.com:50000/b1s/v1/$metadata#Orders/@Element",
        "odata.etag": 'W/"356A192B7913B04C54574D18C28D46E6395428AB"',
        "DocEntry": 179667,
        "DocNum": 179667,
        "DocType": "dDocument_Items",
        "HandWritten": "tNO",
        "Printed": "psNo",
        "DocDate": "2022-02-16",
        "DocDueDate": "2022-02-18",
        "CardCode": "MOM",
        "CardName": "Mom's Friendly Robot Company",
        "Address": "123 4th ave\r\rNew York City NY  10006\rUSA",
        "NumAtCard": "PO21622",
        "DocTotal": 282.50,
        "AttachmentEntry": None,
        "DocCurrency": "$",
        "DocRate": 1.0,
        "Reference1": "179667",
        "Reference2": None,
        "Comments": "These are some notes",
        "JournalMemo": "Sales Orders - MOM",
        "PaymentGroupCode": 8,
        "DocTime": "09:12:00",
        "SalesPersonCode": 21,
        "TransportationCode": 3,
        "Confirmed": "tYES",
        "ImportFileNum": None,
        "SummeryType": "dNoSummary",
        "ContactPersonCode": 12697,
        "ShowSCN": "tNO",
        "Series": 8,
        "TaxDate": "2022-02-16",
        "PartialSupply": "tYES",
        "DocObjectCode": "oOrders",
        "ShipToCode": "Mom Corp",
        "Indicator": None,
        "FederalTaxID": None,
        "DiscountPercent": 0.0,
        "PaymentReference": None,
        "CreationDate": "2022-02-16",
        "UpdateDate": "2022-02-16",
        "FinancialPeriod": 86,
        "UserSign": 73,
        "TransNum": None,
        "VatSum": 0.0,
        "VatSumSys": 0.0,
        "VatSumFc": 0.0,
        "NetProcedure": "tNO",
        "DocTotalFc": 0.0,
        "DocTotalSys": 282.50,
        "Form1099": None,
        "Box1099": None,
        "RevisionPo": "tNO",
        "RequriedDate": "2022-02-18",
        "CancelDate": "2022-08-17",
        "BlockDunning": "tNO",
        "Submitted": "tNO",
        "Segment": 0,
        "PickStatus": "tNO",
        "Pick": "tYES",
        "PaymentMethod": "",
        "PaymentBlock": "tNO",
        "PaymentBlockEntry": None,
        "CentralBankIndicator": None,
        "MaximumCashDiscount": "tNO",
        "Reserve": "tNO",
        "Project": None,
        "ExemptionValidityDateFrom": None,
        "ExemptionValidityDateTo": None,
        "WareHouseUpdateType": "dwh_CustomerOrders",
        "Rounding": "tNO",
        "ExternalCorrectedDocNum": None,
        "InternalCorrectedDocNum": None,
        "NextCorrectingDocument": None,
        "DeferredTax": "tNO",
        "TaxExemptionLetterNum": None,
        "WTApplied": 0.0,
        "WTAppliedFC": 0.0,
        "BillOfExchangeReserved": "tNO",
        "AgentCode": None,
        "WTAppliedSC": 0.0,
        "TotalEqualizationTax": 0.0,
        "TotalEqualizationTaxFC": 0.0,
        "TotalEqualizationTaxSC": 0.0,
        "NumberOfInstallments": 1,
        "ApplyTaxOnFirstInstallment": "tNO",
        "WTNonSubjectAmount": 0.0,
        "WTNonSubjectAmountSC": 0.0,
        "WTNonSubjectAmountFC": 0.0,
        "WTExemptedAmount": 0.0,
        "WTExemptedAmountSC": 0.0,
        "WTExemptedAmountFC": 0.0,
        "BaseAmount": 0.0,
        "BaseAmountSC": 0.0,
        "BaseAmountFC": 0.0,
        "WTAmount": 0.0,
        "WTAmountSC": 0.0,
        "WTAmountFC": 0.0,
        "VatDate": None,
        "DocumentsOwner": None,
        "FolioPrefixString": None,
        "FolioNumber": None,
        "DocumentSubType": "bod_None",
        "BPChannelCode": None,
        "BPChannelContact": None,
        "Address2": "123 5th ave\r\rNew York City NY  10006\rUSA",
        "DocumentStatus": "bost_Open",
        "PeriodIndicator": "Default",
        "PayToCode": "Mom Corp",
        "ManualNumber": None,
        "UseShpdGoodsAct": "tNO",
        "IsPayToBank": "tNO",
        "PayToBankCountry": None,
        "PayToBankCode": None,
        "PayToBankAccountNo": None,
        "PayToBankBranch": None,
        "BPL_IDAssignedToInvoice": None,
        "DownPayment": 0.0,
        "ReserveInvoice": "tNO",
        "LanguageCode": 3,
        "TrackingNumber": None,
        "PickRemark": None,
        "ClosingDate": None,
        "SequenceCode": None,
        "SequenceSerial": None,
        "SeriesString": None,
        "SubSeriesString": None,
        "SequenceModel": "0",
        "UseCorrectionVATGroup": "tNO",
        "TotalDiscount": 0.0,
        "DownPaymentAmount": 0.0,
        "DownPaymentPercentage": 0.0,
        "DownPaymentType": "dptInvoice",
        "DownPaymentAmountSC": 0.0,
        "DownPaymentAmountFC": 0.0,
        "VatPercent": 0.0,
        "ServiceGrossProfitPercent": None,
        "OpeningRemarks": None,
        "ClosingRemarks": None,
        "RoundingDiffAmount": 0.0,
        "RoundingDiffAmountFC": 0.0,
        "RoundingDiffAmountSC": 0.0,
        "Cancelled": "tNO",
        "SignatureInputMessage": None,
        "SignatureDigest": None,
        "CertificationNumber": None,
        "PrivateKeyVersion": None,
        "ControlAccount": "_SYS00000000067",
        "InsuranceOperation347": "tNO",
        "ArchiveNonremovableSalesQuotation": "tNO",
        "GTSChecker": None,
        "GTSPayee": None,
        "ExtraMonth": 0,
        "ExtraDays": 60,
        "CashDiscountDateOffset": 0,
        "StartFrom": "pdt_None",
        "NTSApproved": "tNO",
        "ETaxWebSite": None,
        "ETaxNumber": None,
        "NTSApprovedNumber": None,
        "EDocGenerationType": "edocNotRelevant",
        "EDocSeries": None,
        "EDocNum": None,
        "EDocExportFormat": None,
        "EDocStatus": "edoc_Ok",
        "EDocErrorCode": None,
        "EDocErrorMessage": None,
        "DownPaymentStatus": "so_Open",
        "GroupSeries": None,
        "GroupNumber": None,
        "GroupHandWritten": "tNO",
        "ReopenOriginalDocument": None,
        "ReopenManuallyClosedOrCanceledDocument": None,
        "CreateOnlineQuotation": "tNO",
        "POSEquipmentNumber": None,
        "POSManufacturerSerialNumber": None,
        "POSCashierNumber": None,
        "ApplyCurrentVATRatesForDownPaymentsToDraw": "tNO",
        "ClosingOption": "coByCurrentSystemDate",
        "SpecifiedClosingDate": None,
        "OpenForLandedCosts": "tYES",
        "AuthorizationStatus": "dasWithout",
        "TotalDiscountFC": 0.0,
        "TotalDiscountSC": 0.0,
        "RelevantToGTS": "tNO",
        "BPLName": None,
        "VATRegNum": None,
        "AnnualInvoiceDeclarationReference": None,
        "Supplier": None,
        "Releaser": None,
        "Receiver": None,
        "BlanketAgreementNumber": None,
        "IsAlteration": "tNO",
        "CancelStatus": "csNo",
        "AssetValueDate": None,
        "DocumentDelivery": "ddtNoneSeleted",
        "AuthorizationCode": None,
        "StartDeliveryDate": None,
        "StartDeliveryTime": None,
        "EndDeliveryDate": None,
        "EndDeliveryTime": None,
        "VehiclePlate": None,
        "ATDocumentType": None,
        "ElecCommStatus": None,
        "ElecCommMessage": None,
        "ReuseDocumentNum": "tNO",
        "ReuseNotaFiscalNum": "tNO",
        "PrintSEPADirect": "tNO",
        "FiscalDocNum": None,
        "POSDailySummaryNo": None,
        "POSReceiptNo": None,
        "PointOfIssueCode": None,
        "Letter": None,
        "FolioNumberFrom": None,
        "FolioNumberTo": None,
        "InterimType": "boidt_None",
        "RelatedType": -1,
        "RelatedEntry": None,
        "SAPPassport": None,
        "DocumentTaxID": None,
        "DateOfReportingControlStatementVAT": None,
        "ReportingSectionControlStatementVAT": None,
        "ExcludeFromTaxReportControlStatementVAT": "tNO",
        "POS_CashRegister": None,
        "UpdateTime": "09:12:49",
        "CreateQRCodeFrom": None,
        "PriceMode": None,
        "ShipFrom": "Mom Corp",
        "CommissionTrade": "ct_Empty",
        "CommissionTradeReturn": "tNO",
        "UseBillToAddrToDetermineTax": "tNO",
        "Cig": None,
        "Cup": None,
        "FatherCard": None,
        "FatherType": "cPayments_sum",
        "ShipState": None,
        "ShipPlace": None,
        "CustOffice": None,
        "FCI": None,
        "AddLegIn": None,
        "LegTextF": None,
        "DANFELgTxt": None,
        "IndFinal": "tNO",
        "DataVersion": 1,
        "U_A_PAYT": None,
        "U_A_CCEV": None,
        "U_A_CCUID": None,
        "U_TWBS_CC_OrigInv": None,
        "U_OrderSource": None,
        "U_ZEDS_TransactionId": None,
        "U_ZEDS_EmpComments": None,
        "U_ZEDS_ManComments": None,
        "U_TRC_ASNT": "SOI",
        "U_TRC_STTp": None,
        "U_TRC_OPTp": None,
        "U_TRC_TrMt": None,
        "U_TRC_VdrN": None,
        "U_TRC_BOL": None,
        "U_TRC_WGHT": None,
        "U_TRC_DpNm": None,
        "U_TRC_RlNm": None,
        "U_TRC_CrPr": None,
        "U_TRC_Rtng": None,
        "U_TRC_SCAC": None,
        "U_TRC_OrdW": None,
        "U_TRC_GWGU": None,
        "U_TRC_CrTr": None,
        "U_TRC_TrIn": None,
        "U_TRC_Stat": None,
        "U_TRC_EDDt": None,
        "U_TRC_TmSh": None,
        "U_TRC_PONm": None,
        "U_TRC_PkMt": None,
        "U_TRC_PkTy": None,
        "U_TRC_PrGp": None,
        "U_TRC_StAb": None,
        "U_TRC_ConsSt": None,
        "U_TRC_Temp": None,
        "U_TRC_APkTp": "Pure Carton",
        "U_TRC_PackR": "Y",
        "U_RA_Numbr": None,
        "U_UPSAcct": None,
        "U_CTY_Territory": None,
        "U_ECS_DOC_FREIGHT": "0.00",
        "U_V33SALESMGR": None,
        "U_V33INSIDESALES": None,
        "U_ZipCode": None,
        "U_TRC_3PL": None,
        "U_TRC_PODt": None,
        "U_TRC_NOEDI": "N",
        "U_V33_FreeShipping": "N",
        "U_Saturday_Red": None,
        "U_Signature_Req": None,
        "U_MageOrderIncId": None,
        "U_MageEmail": None,
        "U_NWR_PicS": "Nouveau/New",
        "U_NWR_BRet": None,
        "U_nwr_PAut": 0,
        "U_nwr_Note": None,
        "U_nwr_Tag": None,
        "U_nwr_Frgt": 0.0,
        "U_NWR_NORM": None,
        "U_TypeExped": "2",
        "U_NWR_Freight": 0.0,
        "U_TRC_DocLookupID": None,
        "U_TRC_CusOrNum": None,
        "U_TRC_OMSPONum": None,
        "U_TRC_OrdName": None,
        "U_ADDTNOTES": None,
        "U_NWR_Manifest": None,
        "Document_ApprovalRequests": [],
        "DocumentLines": [
            {
                "LineNum": 0,
                "ItemCode": "X1-LTE",
                "ItemDescription": "DR-X1 LTE, Cell + GPS, BG96MC-128-SGNS",
                "Quantity": 3.0,
                "ShipDate": "2022-02-18",
                "Price": 90.0,
                "PriceAfterVAT": 90.0,
                "Currency": "$",
                "Rate": 0.0,
                "DiscountPercent": 0.0,
                "VendorNum": "",
                "SerialNum": None,
                "WarehouseCode": "01",
                "SalesPersonCode": 21,
                "CommisionPercent": 0.0,
                "TreeType": "iProductionTree",
                "AccountCode": "_SYS00000000212",
                "UseBaseUnits": "tNO",
                "SupplierCatNum": "",
                "CostingCode": None,
                "ProjectCode": "",
                "BarCode": "829543003060",
                "VatGroup": "",
                "Height1": 0.0,
                "Hight1Unit": None,
                "Height2": 0.0,
                "Height2Unit": None,
                "Lengh1": 0.0,
                "Lengh1Unit": None,
                "Lengh2": 0.0,
                "Lengh2Unit": None,
                "Weight1": 1.50,
                "Weight1Unit": 5,
                "Weight2": 0.0,
                "Weight2Unit": None,
                "Factor1": 1.0,
                "Factor2": 1.0,
                "Factor3": 1.0,
                "Factor4": 1.0,
                "BaseType": -1,
                "BaseEntry": None,
                "BaseLine": None,
                "Volume": 0.0,
                "VolumeUnit": 5,
                "Width1": 0.0,
                "Width1Unit": None,
                "Width2": 0.0,
                "Width2Unit": None,
                "Address": "22003 67th Ave S\r\rKent WA  98032\rUSA",
                "TaxCode": "",
                "TaxType": "tt_Yes",
                "TaxLiable": "tYES",
                "PickStatus": "tNO",
                "PickQuantity": 0.0,
                "PickListIdNumber": None,
                "OriginalItem": None,
                "BackOrder": "tYES",
                "FreeText": "",
                "ShippingMethod": 1,
                "POTargetNum": None,
                "POTargetEntry": "",
                "POTargetRowNum": None,
                "CorrectionInvoiceItem": "ciis_ShouldBe",
                "CorrInvAmountToStock": 0.0,
                "CorrInvAmountToDiffAcct": 0.0,
                "AppliedTax": 0.0,
                "AppliedTaxFC": 0.0,
                "AppliedTaxSC": 0.0,
                "WTLiable": "tNO",
                "DeferredTax": "tNO",
                "EqualizationTaxPercent": 0.0,
                "TotalEqualizationTax": 0.0,
                "TotalEqualizationTaxFC": 0.0,
                "TotalEqualizationTaxSC": 0.0,
                "NetTaxAmount": 0.0,
                "NetTaxAmountFC": 0.0,
                "NetTaxAmountSC": 0.0,
                "MeasureUnit": None,
                "UnitsOfMeasurment": 1.0,
                "LineTotal": 270.0,
                "TaxPercentagePerRow": 0.0,
                "TaxTotal": 0.0,
                "ConsumerSalesForecast": "tYES",
                "ExciseAmount": 0.0,
                "TaxPerUnit": 0.0,
                "TotalInclTax": 0.0,
                "CountryOrg": None,
                "SWW": "",
                "TransactionType": None,
                "DistributeExpense": "tYES",
                "RowTotalFC": 0.0,
                "RowTotalSC": 270.0,
                "LastBuyInmPrice": 0.0,
                "LastBuyDistributeSumFc": 0.0,
                "LastBuyDistributeSumSc": 0.0,
                "LastBuyDistributeSum": 0.0,
                "StockDistributesumForeign": 0.0,
                "StockDistributesumSystem": 0.0,
                "StockDistributesum": 0.0,
                "StockInmPrice": 0.0,
                "PickStatusEx": "dlps_NotPicked",
                "TaxBeforeDPM": 0.0,
                "TaxBeforeDPMFC": 0.0,
                "TaxBeforeDPMSC": 0.0,
                "CFOPCode": None,
                "CSTCode": None,
                "Usage": None,
                "TaxOnly": "tNO",
                "VisualOrder": 0,
                "BaseOpenQuantity": 0.0,
                "UnitPrice": 90.0,
                "LineStatus": "bost_Open",
                "PackageQuantity": 1.0,
                "Text": "",
                "LineType": "dlt_Regular",
                "COGSCostingCode": None,
                "COGSAccountCode": "_SYS00000000253",
                "ChangeAssemlyBoMWarehouse": "N",
                "GrossBuyPrice": 32.440,
                "GrossBase": -5,
                "GrossProfitTotalBasePrice": 97.310,
                "CostingCode2": None,
                "CostingCode3": None,
                "CostingCode4": None,
                "CostingCode5": None,
                "ItemDetails": None,
                "LocationCode": None,
                "ActualDeliveryDate": None,
                "RemainingOpenQuantity": 3.0,
                "OpenAmount": 270.0,
                "OpenAmountFC": 0.0,
                "OpenAmountSC": 270.0,
                "ExLineNo": None,
                "RequiredDate": None,
                "RequiredQuantity": 0.0,
                "COGSCostingCode2": None,
                "COGSCostingCode3": None,
                "COGSCostingCode4": None,
                "COGSCostingCode5": None,
                "CSTforIPI": None,
                "CSTforPIS": None,
                "CSTforCOFINS": None,
                "CreditOriginCode": None,
                "WithoutInventoryMovement": "tNO",
                "AgreementNo": None,
                "AgreementRowNumber": None,
                "ActualBaseEntry": None,
                "ActualBaseLine": None,
                "DocEntry": 179667,
                "Surpluses": 0.0,
                "DefectAndBreakup": 0.0,
                "Shortages": 0.0,
                "ConsiderQuantity": "tNO",
                "PartialRetirement": "tNO",
                "RetirementQuantity": 0.0,
                "RetirementAPC": 0.0,
                "ThirdParty": "tNO",
                "PoNum": None,
                "PoItmNum": None,
                "ExpenseType": None,
                "ReceiptNumber": None,
                "ExpenseOperationType": None,
                "FederalTaxID": None,
                "GrossProfit": 172.690,
                "GrossProfitFC": 0.0,
                "GrossProfitSC": 172.690,
                "PriceSource": "dpsActivePriceList",
                "StgSeqNum": None,
                "StgEntry": None,
                "StgDesc": None,
                "UoMEntry": -1,
                "UoMCode": "Manual",
                "InventoryQuantity": 3.0,
                "RemainingOpenInventoryQuantity": 3.0,
                "ParentLineNum": None,
                "Incoterms": 0,
                "TransportMode": 0,
                "NatureOfTransaction": None,
                "DestinationCountryForImport": None,
                "DestinationRegionForImport": None,
                "OriginCountryForExport": None,
                "OriginRegionForExport": None,
                "ItemType": "dit_Item",
                "ChangeInventoryQuantityIndependently": "tNO",
                "FreeOfChargeBP": "tNO",
                "SACEntry": None,
                "HSNEntry": None,
                "GrossPrice": 90.0,
                "GrossTotal": 270.0,
                "GrossTotalFC": 0.0,
                "GrossTotalSC": 270.0,
                "NCMCode": -1,
                "NVECode": None,
                "IndEscala": "tNO",
                "CtrSealQty": 0.0,
                "CNJPMan": None,
                "CESTCode": -1,
                "UFFiscalBenefitCode": None,
                "ReverseCharge": "tNO",
                "ShipToCode": "Mom Corp",
                "ShipToDescription": "123 5th ave\r\rNew York City NY  10006\rUSA",
                "OwnerCode": None,
                "ExternalCalcTaxRate": 0.0,
                "ExternalCalcTaxAmount": 0.0,
                "ExternalCalcTaxAmountFC": 0.0,
                "ExternalCalcTaxAmountSC": 0.0,
                "StandardItemIdentification": 0,
                "CommodityClassification": 0,
                "UnencumberedReason": None,
                "CUSplit": "tNO",
                "U_A_PAYT": None,
                "U_A_CCNo": None,
                "U_A_CAMT": None,
                "U_A_EDATE": None,
                "U_A_CREFNO": None,
                "U_A_ACODE": None,
                "U_A_ADATE": None,
                "U_A_SECCOD": None,
                "U_A_ADDR1": None,
                "U_A_ADDR2": None,
                "U_A_ADDR3": None,
                "U_A_CITY": None,
                "U_A_ZIP": None,
                "U_A_STATE": None,
                "U_A_CTYPE": None,
                "U_A_CARDNAME": None,
                "U_A_MORDERID": None,
                "U_ZEDS_Comments": None,
                "U_ZEDS_BillBack": None,
                "U_TRC_LNum": None,
                "U_TRC_TRACK_SOI": None,
                "U_NWR_Base": None,
                "U_CustDate": None,
                "U_NWR_QtyAllocated": None,
                "U_TransitWHSCode": None,
                "U_ReclamQty": None,
                "U_QAMark": None,
                "U_IncomingQty": None,
                "U_NWR_Bin": None,
                "LineTaxJurisdictions": [],
                "DocumentLineAdditionalExpenses": [],
                "WithholdingTaxLines": [],
                "SerialNumbers": [],
                "BatchNumbers": [],
                "DocumentLinesBinAllocations": [],
            }
        ],
        "ElectronicProtocols": [],
        "DocumentAdditionalExpenses": [
            {
                "ExpenseCode": 1,
                "LineTotal": 12.50,
                "LineTotalFC": 0.0,
                "LineTotalSys": 12.50,
                "PaidToDate": 0.0,
                "PaidToDateFC": 0.0,
                "PaidToDateSys": 0.0,
                "Remarks": None,
                "DistributionMethod": "aedm_None",
                "TaxLiable": "tYES",
                "VatGroup": "",
                "TaxPercent": 0.0,
                "TaxSum": 0.0,
                "TaxSumFC": 0.0,
                "TaxSumSys": 0.0,
                "DeductibleTaxSum": 0.0,
                "DeductibleTaxSumFC": 0.0,
                "DeductibleTaxSumSys": 0.0,
                "AquisitionTax": "tNO",
                "TaxCode": "",
                "TaxType": "aext_NormalTax",
                "TaxPaid": 0.0,
                "TaxPaidFC": 0.0,
                "TaxPaidSys": 0.0,
                "EqualizationTaxPercent": 0.0,
                "EqualizationTaxSum": 0.0,
                "EqualizationTaxFC": 0.0,
                "EqualizationTaxSys": 0.0,
                "TaxTotalSum": 0.0,
                "TaxTotalSumFC": 0.0,
                "TaxTotalSumSys": 0.0,
                "BaseDocEntry": -1,
                "BaseDocLine": -1,
                "BaseDocType": -1,
                "BaseDocumentReference": None,
                "LineNum": 0,
                "LastPurchasePrice": None,
                "Status": "bost_Open",
                "Stock": "tNO",
                "TargetAbsEntry": -1,
                "TargetType": None,
                "WTLiable": "tNO",
                "DistributionRule": "",
                "Project": None,
                "DistributionRule2": None,
                "DistributionRule3": None,
                "DistributionRule4": None,
                "DistributionRule5": None,
                "LineGross": 12.50,
                "LineGrossSys": 12.50,
                "LineGrossFC": 0.0,
                "ExternalCalcTaxRate": 0.0,
                "ExternalCalcTaxAmount": 0.0,
                "ExternalCalcTaxAmountFC": 0.0,
                "ExternalCalcTaxAmountSC": 0.0,
                "CUSplit": "tNO",
                "DocExpenseTaxJurisdictions": [],
            }
        ],
        "WithholdingTaxDataWTXCollection": [],
        "WithholdingTaxDataCollection": [],
        "DocumentSpecialLines": [],
        "TaxExtension": {
            "TaxId0": None,
            "TaxId1": None,
            "TaxId2": None,
            "TaxId3": None,
            "TaxId4": None,
            "TaxId5": None,
            "TaxId6": None,
            "TaxId7": None,
            "TaxId8": None,
            "TaxId9": None,
            "State": None,
            "County": None,
            "Incoterms": None,
            "Vehicle": None,
            "VehicleState": None,
            "NFRef": None,
            "Carrier": None,
            "PackQuantity": None,
            "PackDescription": None,
            "Brand": None,
            "ShipUnitNo": None,
            "NetWeight": 0.0,
            "GrossWeight": 0.0,
            "StreetS": "123 5th ave",
            "BlockS": None,
            "BuildingS": None,
            "CityS": "New York City",
            "ZipCodeS": "10006",
            "CountyS": None,
            "StateS": "NY",
            "CountryS": "US",
            "StreetB": "123 4th ave",
            "BlockB": None,
            "BuildingB": "",
            "CityB": "New York City",
            "ZipCodeB": "10006",
            "CountyB": None,
            "StateB": "NY",
            "CountryB": "US",
            "ImportOrExport": None,
            "MainUsage": None,
            "GlobalLocationNumberS": None,
            "GlobalLocationNumberB": None,
            "TaxId12": None,
            "TaxId13": None,
            "BillOfEntryNo": None,
            "BillOfEntryDate": None,
            "OriginalBillOfEntryNo": None,
            "OriginalBillOfEntryDate": None,
            "ImportOrExportType": "et_IpmortsOrExports",
            "PortCode": None,
            "DocEntry": 179667,
            "BoEValue": 0.0,
            "ClaimRefund": None,
            "DifferentialOfTaxRate": None,
            "IsIGSTAccount": None,
        },
        "AddressExtension": {
            "ShipToStreet": "123 5th ave",
            "ShipToStreetNo": None,
            "ShipToBlock": None,
            "ShipToBuilding": None,
            "ShipToCity": "New York City",
            "ShipToZipCode": "10006",
            "ShipToCounty": None,
            "ShipToState": "NY",
            "ShipToCountry": "US",
            "ShipToAddressType": None,
            "BillToStreet": "123 4th ave",
            "BillToStreetNo": None,
            "BillToBlock": None,
            "BillToBuilding": "",
            "BillToCity": "New York City",
            "BillToZipCode": "10006",
            "BillToCounty": None,
            "BillToState": "NY",
            "BillToCountry": "US",
            "BillToAddressType": None,
            "ShipToGlobalLocationNumber": None,
            "BillToGlobalLocationNumber": None,
            "ShipToAddress2": None,
            "ShipToAddress3": None,
            "BillToAddress2": None,
            "BillToAddress3": None,
            "PlaceOfSupply": None,
            "PurchasePlaceOfSupply": None,
            "DocEntry": 179667,
            "GoodsIssuePlaceBP": None,
            "GoodsIssuePlaceCNPJ": None,
            "GoodsIssuePlaceCPF": None,
            "GoodsIssuePlaceStreet": None,
            "GoodsIssuePlaceStreetNo": None,
            "GoodsIssuePlaceBuilding": None,
            "GoodsIssuePlaceZip": None,
            "GoodsIssuePlaceBlock": None,
            "GoodsIssuePlaceCity": None,
            "GoodsIssuePlaceCounty": None,
            "GoodsIssuePlaceState": None,
            "GoodsIssuePlaceCountry": None,
            "GoodsIssuePlacePhone": None,
            "GoodsIssuePlaceEMail": None,
            "GoodsIssuePlaceDepartureDate": None,
            "DeliveryPlaceBP": None,
            "DeliveryPlaceCNPJ": None,
            "DeliveryPlaceCPF": None,
            "DeliveryPlaceStreet": None,
            "DeliveryPlaceStreetNo": None,
            "DeliveryPlaceBuilding": None,
            "DeliveryPlaceZip": None,
            "DeliveryPlaceBlock": None,
            "DeliveryPlaceCity": None,
            "DeliveryPlaceCounty": None,
            "DeliveryPlaceState": None,
            "DeliveryPlaceCountry": None,
            "DeliveryPlacePhone": None,
            "DeliveryPlaceEMail": None,
            "DeliveryPlaceDepartureDate": None,
        },
        "DocumentReferences": [],
    }


@pytest.fixture
def updated_sap_sales_order():
    """This is the same as sap_sales_order but with the following changes:
    - qty of line item 1 is changed from 3 to 5
    - unit price of line item 1 is discounted from $90 to $85
    - new line item 2 with quantity 2 and a 10% unit discount

    These changes were made inside the SAP client, then retrieved using the service
    layer endpoint.
    """
    return {
        "odata.metadata": "https://api.myfirstech.com:50000/b1s/v1/$metadata#Orders/@Element",
        "odata.etag": 'W/"77DE68DAECD823BABBB58EDB1C8E14D7106E83BB"',
        "DocEntry": 179667,
        "DocNum": 179667,
        "DocType": "dDocument_Items",
        "HandWritten": "tNO",
        "Printed": "psNo",
        "DocDate": "2022-02-16",
        "DocDueDate": "2022-02-18",
        "CardCode": "MOM",
        "CardName": "Mom's Friendly Robot Company",
        "Address": "123 4th ave\r\rNew York City NY  10006\rUSA",
        "NumAtCard": "PO21622",
        "DocTotal": 599.50,
        "AttachmentEntry": None,
        "DocCurrency": "$",
        "DocRate": 1.0,
        "Reference1": "179667",
        "Reference2": None,
        "Comments": "These are some notes",
        "JournalMemo": "Sales Orders - MOM",
        "PaymentGroupCode": 8,
        "DocTime": "09:12:00",
        "SalesPersonCode": 21,
        "TransportationCode": 3,
        "Confirmed": "tYES",
        "ImportFileNum": None,
        "SummeryType": "dNoSummary",
        "ContactPersonCode": 12697,
        "ShowSCN": "tNO",
        "Series": 8,
        "TaxDate": "2022-02-16",
        "PartialSupply": "tYES",
        "DocObjectCode": "oOrders",
        "ShipToCode": "Mom Corp",
        "Indicator": None,
        "FederalTaxID": None,
        "DiscountPercent": 0.0,
        "PaymentReference": None,
        "CreationDate": "2022-02-16",
        "UpdateDate": "2022-02-18",
        "FinancialPeriod": 86,
        "UserSign": 73,
        "TransNum": None,
        "VatSum": 0.0,
        "VatSumSys": 0.0,
        "VatSumFc": 0.0,
        "NetProcedure": "tNO",
        "DocTotalFc": 0.0,
        "DocTotalSys": 599.50,
        "Form1099": None,
        "Box1099": None,
        "RevisionPo": "tNO",
        "RequriedDate": "2022-02-18",
        "CancelDate": "2022-08-17",
        "BlockDunning": "tNO",
        "Submitted": "tNO",
        "Segment": 0,
        "PickStatus": "tNO",
        "Pick": "tYES",
        "PaymentMethod": "",
        "PaymentBlock": "tNO",
        "PaymentBlockEntry": None,
        "CentralBankIndicator": None,
        "MaximumCashDiscount": "tNO",
        "Reserve": "tNO",
        "Project": None,
        "ExemptionValidityDateFrom": None,
        "ExemptionValidityDateTo": None,
        "WareHouseUpdateType": "dwh_CustomerOrders",
        "Rounding": "tNO",
        "ExternalCorrectedDocNum": None,
        "InternalCorrectedDocNum": None,
        "NextCorrectingDocument": None,
        "DeferredTax": "tNO",
        "TaxExemptionLetterNum": None,
        "WTApplied": 0.0,
        "WTAppliedFC": 0.0,
        "BillOfExchangeReserved": "tNO",
        "AgentCode": None,
        "WTAppliedSC": 0.0,
        "TotalEqualizationTax": 0.0,
        "TotalEqualizationTaxFC": 0.0,
        "TotalEqualizationTaxSC": 0.0,
        "NumberOfInstallments": 1,
        "ApplyTaxOnFirstInstallment": "tNO",
        "WTNonSubjectAmount": 0.0,
        "WTNonSubjectAmountSC": 0.0,
        "WTNonSubjectAmountFC": 0.0,
        "WTExemptedAmount": 0.0,
        "WTExemptedAmountSC": 0.0,
        "WTExemptedAmountFC": 0.0,
        "BaseAmount": 0.0,
        "BaseAmountSC": 0.0,
        "BaseAmountFC": 0.0,
        "WTAmount": 0.0,
        "WTAmountSC": 0.0,
        "WTAmountFC": 0.0,
        "VatDate": None,
        "DocumentsOwner": None,
        "FolioPrefixString": None,
        "FolioNumber": None,
        "DocumentSubType": "bod_None",
        "BPChannelCode": None,
        "BPChannelContact": None,
        "Address2": "123 5th ave\r\rNew York City NY  10006\rUSA",
        "DocumentStatus": "bost_Open",
        "PeriodIndicator": "Default",
        "PayToCode": "Mom Corp",
        "ManualNumber": None,
        "UseShpdGoodsAct": "tNO",
        "IsPayToBank": "tNO",
        "PayToBankCountry": None,
        "PayToBankCode": None,
        "PayToBankAccountNo": None,
        "PayToBankBranch": None,
        "BPL_IDAssignedToInvoice": None,
        "DownPayment": 0.0,
        "ReserveInvoice": "tNO",
        "LanguageCode": 3,
        "TrackingNumber": None,
        "PickRemark": None,
        "ClosingDate": None,
        "SequenceCode": None,
        "SequenceSerial": None,
        "SeriesString": None,
        "SubSeriesString": None,
        "SequenceModel": "0",
        "UseCorrectionVATGroup": "tNO",
        "TotalDiscount": 0.0,
        "DownPaymentAmount": 0.0,
        "DownPaymentPercentage": 0.0,
        "DownPaymentType": "dptInvoice",
        "DownPaymentAmountSC": 0.0,
        "DownPaymentAmountFC": 0.0,
        "VatPercent": 0.0,
        "ServiceGrossProfitPercent": None,
        "OpeningRemarks": None,
        "ClosingRemarks": None,
        "RoundingDiffAmount": 0.0,
        "RoundingDiffAmountFC": 0.0,
        "RoundingDiffAmountSC": 0.0,
        "Cancelled": "tNO",
        "SignatureInputMessage": None,
        "SignatureDigest": None,
        "CertificationNumber": None,
        "PrivateKeyVersion": None,
        "ControlAccount": "_SYS00000000067",
        "InsuranceOperation347": "tNO",
        "ArchiveNonremovableSalesQuotation": "tNO",
        "GTSChecker": None,
        "GTSPayee": None,
        "ExtraMonth": 0,
        "ExtraDays": 60,
        "CashDiscountDateOffset": 0,
        "StartFrom": "pdt_None",
        "NTSApproved": "tNO",
        "ETaxWebSite": None,
        "ETaxNumber": None,
        "NTSApprovedNumber": None,
        "EDocGenerationType": "edocNotRelevant",
        "EDocSeries": None,
        "EDocNum": None,
        "EDocExportFormat": None,
        "EDocStatus": "edoc_Ok",
        "EDocErrorCode": None,
        "EDocErrorMessage": None,
        "DownPaymentStatus": "so_Open",
        "GroupSeries": None,
        "GroupNumber": None,
        "GroupHandWritten": "tNO",
        "ReopenOriginalDocument": None,
        "ReopenManuallyClosedOrCanceledDocument": None,
        "CreateOnlineQuotation": "tNO",
        "POSEquipmentNumber": None,
        "POSManufacturerSerialNumber": None,
        "POSCashierNumber": None,
        "ApplyCurrentVATRatesForDownPaymentsToDraw": "tNO",
        "ClosingOption": "coByCurrentSystemDate",
        "SpecifiedClosingDate": None,
        "OpenForLandedCosts": "tYES",
        "AuthorizationStatus": "dasWithout",
        "TotalDiscountFC": 0.0,
        "TotalDiscountSC": 0.0,
        "RelevantToGTS": "tNO",
        "BPLName": None,
        "VATRegNum": None,
        "AnnualInvoiceDeclarationReference": None,
        "Supplier": None,
        "Releaser": None,
        "Receiver": None,
        "BlanketAgreementNumber": None,
        "IsAlteration": "tNO",
        "CancelStatus": "csNo",
        "AssetValueDate": None,
        "DocumentDelivery": "ddtNoneSeleted",
        "AuthorizationCode": None,
        "StartDeliveryDate": None,
        "StartDeliveryTime": None,
        "EndDeliveryDate": None,
        "EndDeliveryTime": None,
        "VehiclePlate": None,
        "ATDocumentType": None,
        "ElecCommStatus": None,
        "ElecCommMessage": None,
        "ReuseDocumentNum": "tNO",
        "ReuseNotaFiscalNum": "tNO",
        "PrintSEPADirect": "tNO",
        "FiscalDocNum": None,
        "POSDailySummaryNo": None,
        "POSReceiptNo": None,
        "PointOfIssueCode": None,
        "Letter": None,
        "FolioNumberFrom": None,
        "FolioNumberTo": None,
        "InterimType": "boidt_None",
        "RelatedType": -1,
        "RelatedEntry": None,
        "SAPPassport": None,
        "DocumentTaxID": None,
        "DateOfReportingControlStatementVAT": None,
        "ReportingSectionControlStatementVAT": None,
        "ExcludeFromTaxReportControlStatementVAT": "tNO",
        "POS_CashRegister": None,
        "UpdateTime": "11:11:26",
        "CreateQRCodeFrom": None,
        "PriceMode": None,
        "ShipFrom": "Mom Corp",
        "CommissionTrade": "ct_Empty",
        "CommissionTradeReturn": "tNO",
        "UseBillToAddrToDetermineTax": "tNO",
        "Cig": None,
        "Cup": None,
        "FatherCard": None,
        "FatherType": "cPayments_sum",
        "ShipState": None,
        "ShipPlace": None,
        "CustOffice": None,
        "FCI": None,
        "AddLegIn": None,
        "LegTextF": None,
        "DANFELgTxt": None,
        "IndFinal": "tNO",
        "DataVersion": 3,
        "U_A_PAYT": None,
        "U_A_CCEV": None,
        "U_A_CCUID": None,
        "U_TWBS_CC_OrigInv": None,
        "U_OrderSource": None,
        "U_ZEDS_TransactionId": None,
        "U_ZEDS_EmpComments": None,
        "U_ZEDS_ManComments": None,
        "U_TRC_ASNT": "SOI",
        "U_TRC_STTp": None,
        "U_TRC_OPTp": None,
        "U_TRC_TrMt": None,
        "U_TRC_VdrN": None,
        "U_TRC_BOL": None,
        "U_TRC_WGHT": None,
        "U_TRC_DpNm": None,
        "U_TRC_RlNm": None,
        "U_TRC_CrPr": None,
        "U_TRC_Rtng": None,
        "U_TRC_SCAC": None,
        "U_TRC_OrdW": None,
        "U_TRC_GWGU": None,
        "U_TRC_CrTr": None,
        "U_TRC_TrIn": None,
        "U_TRC_Stat": None,
        "U_TRC_EDDt": None,
        "U_TRC_TmSh": None,
        "U_TRC_PONm": None,
        "U_TRC_PkMt": None,
        "U_TRC_PkTy": None,
        "U_TRC_PrGp": None,
        "U_TRC_StAb": None,
        "U_TRC_ConsSt": None,
        "U_TRC_Temp": None,
        "U_TRC_APkTp": "Pure Carton",
        "U_TRC_PackR": "Y",
        "U_RA_Numbr": None,
        "U_UPSAcct": None,
        "U_CTY_Territory": None,
        "U_ECS_DOC_FREIGHT": "0.00",
        "U_V33SALESMGR": None,
        "U_V33INSIDESALES": None,
        "U_ZipCode": None,
        "U_TRC_3PL": None,
        "U_TRC_PODt": None,
        "U_TRC_NOEDI": "N",
        "U_V33_FreeShipping": "N",
        "U_Saturday_Red": None,
        "U_Signature_Req": None,
        "U_MageOrderIncId": None,
        "U_MageEmail": None,
        "U_NWR_PicS": "Nouveau/New",
        "U_NWR_BRet": None,
        "U_nwr_PAut": 0,
        "U_nwr_Note": None,
        "U_nwr_Tag": None,
        "U_nwr_Frgt": 0.0,
        "U_NWR_NORM": None,
        "U_TypeExped": "2",
        "U_NWR_Freight": 0.0,
        "U_TRC_DocLookupID": None,
        "U_TRC_CusOrNum": None,
        "U_TRC_OMSPONum": None,
        "U_TRC_OrdName": None,
        "U_ADDTNOTES": None,
        "U_NWR_Manifest": None,
        "Document_ApprovalRequests": [],
        "DocumentLines": [
            {
                "LineNum": 0,
                "ItemCode": "X1-LTE",
                "ItemDescription": "DR-X1 LTE, Cell + GPS, BG96MC-128-SGNS",
                "Quantity": 5.0,
                "ShipDate": "2022-02-18",
                "Price": 85.0,
                "PriceAfterVAT": 85.0,
                "Currency": "$",
                "Rate": 0.0,
                "DiscountPercent": 0.0,
                "VendorNum": "",
                "SerialNum": None,
                "WarehouseCode": "01",
                "SalesPersonCode": 21,
                "CommisionPercent": 0.0,
                "TreeType": "iProductionTree",
                "AccountCode": "_SYS00000000212",
                "UseBaseUnits": "tNO",
                "SupplierCatNum": "",
                "CostingCode": None,
                "ProjectCode": "",
                "BarCode": "829543003060",
                "VatGroup": "",
                "Height1": 0.0,
                "Hight1Unit": None,
                "Height2": 0.0,
                "Height2Unit": None,
                "Lengh1": 0.0,
                "Lengh1Unit": None,
                "Lengh2": 0.0,
                "Lengh2Unit": None,
                "Weight1": 2.50,
                "Weight1Unit": 5,
                "Weight2": 0.0,
                "Weight2Unit": None,
                "Factor1": 1.0,
                "Factor2": 1.0,
                "Factor3": 1.0,
                "Factor4": 1.0,
                "BaseType": -1,
                "BaseEntry": None,
                "BaseLine": None,
                "Volume": 0.0,
                "VolumeUnit": 5,
                "Width1": 0.0,
                "Width1Unit": None,
                "Width2": 0.0,
                "Width2Unit": None,
                "Address": "22003 67th Ave S\r\rKent WA  98032\rUSA",
                "TaxCode": "",
                "TaxType": "tt_Yes",
                "TaxLiable": "tYES",
                "PickStatus": "tNO",
                "PickQuantity": 0.0,
                "PickListIdNumber": None,
                "OriginalItem": None,
                "BackOrder": "tYES",
                "FreeText": "",
                "ShippingMethod": 1,
                "POTargetNum": None,
                "POTargetEntry": "",
                "POTargetRowNum": None,
                "CorrectionInvoiceItem": "ciis_ShouldBe",
                "CorrInvAmountToStock": 0.0,
                "CorrInvAmountToDiffAcct": 0.0,
                "AppliedTax": 0.0,
                "AppliedTaxFC": 0.0,
                "AppliedTaxSC": 0.0,
                "WTLiable": "tNO",
                "DeferredTax": "tNO",
                "EqualizationTaxPercent": 0.0,
                "TotalEqualizationTax": 0.0,
                "TotalEqualizationTaxFC": 0.0,
                "TotalEqualizationTaxSC": 0.0,
                "NetTaxAmount": 0.0,
                "NetTaxAmountFC": 0.0,
                "NetTaxAmountSC": 0.0,
                "MeasureUnit": None,
                "UnitsOfMeasurment": 1.0,
                "LineTotal": 425.0,
                "TaxPercentagePerRow": 0.0,
                "TaxTotal": 0.0,
                "ConsumerSalesForecast": "tYES",
                "ExciseAmount": 0.0,
                "TaxPerUnit": 0.0,
                "TotalInclTax": 0.0,
                "CountryOrg": None,
                "SWW": "",
                "TransactionType": None,
                "DistributeExpense": "tYES",
                "RowTotalFC": 0.0,
                "RowTotalSC": 425.0,
                "LastBuyInmPrice": 0.0,
                "LastBuyDistributeSumFc": 0.0,
                "LastBuyDistributeSumSc": 0.0,
                "LastBuyDistributeSum": 0.0,
                "StockDistributesumForeign": 0.0,
                "StockDistributesumSystem": 0.0,
                "StockDistributesum": 0.0,
                "StockInmPrice": 0.0,
                "PickStatusEx": "dlps_NotPicked",
                "TaxBeforeDPM": 0.0,
                "TaxBeforeDPMFC": 0.0,
                "TaxBeforeDPMSC": 0.0,
                "CFOPCode": None,
                "CSTCode": None,
                "Usage": None,
                "TaxOnly": "tNO",
                "VisualOrder": 0,
                "BaseOpenQuantity": 0.0,
                "UnitPrice": 85.0,
                "LineStatus": "bost_Open",
                "PackageQuantity": 1.0,
                "Text": "",
                "LineType": "dlt_Regular",
                "COGSCostingCode": None,
                "COGSAccountCode": "_SYS00000000253",
                "ChangeAssemlyBoMWarehouse": "N",
                "GrossBuyPrice": 32.440,
                "GrossBase": -5,
                "GrossProfitTotalBasePrice": 162.180,
                "CostingCode2": None,
                "CostingCode3": None,
                "CostingCode4": None,
                "CostingCode5": None,
                "ItemDetails": None,
                "LocationCode": None,
                "ActualDeliveryDate": None,
                "RemainingOpenQuantity": 5.0,
                "OpenAmount": 425.0,
                "OpenAmountFC": 0.0,
                "OpenAmountSC": 425.0,
                "ExLineNo": None,
                "RequiredDate": None,
                "RequiredQuantity": 0.0,
                "COGSCostingCode2": None,
                "COGSCostingCode3": None,
                "COGSCostingCode4": None,
                "COGSCostingCode5": None,
                "CSTforIPI": None,
                "CSTforPIS": None,
                "CSTforCOFINS": None,
                "CreditOriginCode": None,
                "WithoutInventoryMovement": "tNO",
                "AgreementNo": None,
                "AgreementRowNumber": None,
                "ActualBaseEntry": None,
                "ActualBaseLine": None,
                "DocEntry": 179667,
                "Surpluses": 0.0,
                "DefectAndBreakup": 0.0,
                "Shortages": 0.0,
                "ConsiderQuantity": "tNO",
                "PartialRetirement": "tNO",
                "RetirementQuantity": 0.0,
                "RetirementAPC": 0.0,
                "ThirdParty": "tNO",
                "PoNum": None,
                "PoItmNum": None,
                "ExpenseType": None,
                "ReceiptNumber": None,
                "ExpenseOperationType": None,
                "FederalTaxID": None,
                "GrossProfit": 262.820,
                "GrossProfitFC": 0.0,
                "GrossProfitSC": 262.820,
                "PriceSource": "dpsManual",
                "StgSeqNum": None,
                "StgEntry": None,
                "StgDesc": None,
                "UoMEntry": -1,
                "UoMCode": "Manual",
                "InventoryQuantity": 5.0,
                "RemainingOpenInventoryQuantity": 5.0,
                "ParentLineNum": None,
                "Incoterms": 0,
                "TransportMode": 0,
                "NatureOfTransaction": None,
                "DestinationCountryForImport": None,
                "DestinationRegionForImport": None,
                "OriginCountryForExport": None,
                "OriginRegionForExport": None,
                "ItemType": "dit_Item",
                "ChangeInventoryQuantityIndependently": "tNO",
                "FreeOfChargeBP": "tNO",
                "SACEntry": None,
                "HSNEntry": None,
                "GrossPrice": 85.0,
                "GrossTotal": 425.0,
                "GrossTotalFC": 0.0,
                "GrossTotalSC": 425.0,
                "NCMCode": -1,
                "NVECode": None,
                "IndEscala": "tNO",
                "CtrSealQty": 0.0,
                "CNJPMan": None,
                "CESTCode": -1,
                "UFFiscalBenefitCode": None,
                "ReverseCharge": "tNO",
                "ShipToCode": "Mom Corp",
                "ShipToDescription": "123 5th ave\r\rNew York City NY  10006\rUSA",
                "OwnerCode": None,
                "ExternalCalcTaxRate": 0.0,
                "ExternalCalcTaxAmount": 0.0,
                "ExternalCalcTaxAmountFC": 0.0,
                "ExternalCalcTaxAmountSC": 0.0,
                "StandardItemIdentification": 0,
                "CommodityClassification": 0,
                "UnencumberedReason": None,
                "CUSplit": "tNO",
                "U_A_PAYT": None,
                "U_A_CCNo": None,
                "U_A_CAMT": None,
                "U_A_EDATE": None,
                "U_A_CREFNO": None,
                "U_A_ACODE": None,
                "U_A_ADATE": None,
                "U_A_SECCOD": None,
                "U_A_ADDR1": None,
                "U_A_ADDR2": None,
                "U_A_ADDR3": None,
                "U_A_CITY": None,
                "U_A_ZIP": None,
                "U_A_STATE": None,
                "U_A_CTYPE": None,
                "U_A_CARDNAME": None,
                "U_A_MORDERID": None,
                "U_ZEDS_Comments": None,
                "U_ZEDS_BillBack": None,
                "U_TRC_LNum": None,
                "U_TRC_TRACK_SOI": None,
                "U_NWR_Base": None,
                "U_CustDate": None,
                "U_NWR_QtyAllocated": None,
                "U_TransitWHSCode": None,
                "U_ReclamQty": None,
                "U_QAMark": None,
                "U_IncomingQty": None,
                "U_NWR_Bin": None,
                "LineTaxJurisdictions": [],
                "DocumentLineAdditionalExpenses": [],
                "WithholdingTaxLines": [],
                "SerialNumbers": [],
                "BatchNumbers": [],
                "DocumentLinesBinAllocations": [],
            },
            {
                "LineNum": 1,
                "ItemCode": "X1MAX-LTE",
                "ItemDescription": "DR-X1MAX LTE, Cell, GPS, BLE, Sensors and Back-up batt BG96MC-128-SGNS",
                "Quantity": 2.0,
                "ShipDate": "2022-02-18",
                "Price": 81.0,
                "PriceAfterVAT": 81.0,
                "Currency": "$",
                "Rate": 0.0,
                "DiscountPercent": 10.0,
                "VendorNum": "",
                "SerialNum": None,
                "WarehouseCode": "01",
                "SalesPersonCode": 21,
                "CommisionPercent": 0.0,
                "TreeType": "iProductionTree",
                "AccountCode": "_SYS00000000212",
                "UseBaseUnits": "tNO",
                "SupplierCatNum": "",
                "CostingCode": None,
                "ProjectCode": "",
                "BarCode": "829543003077",
                "VatGroup": "",
                "Height1": 0.0,
                "Hight1Unit": None,
                "Height2": 0.0,
                "Height2Unit": None,
                "Lengh1": 69.0,
                "Lengh1Unit": 5,
                "Lengh2": 0.0,
                "Lengh2Unit": None,
                "Weight1": 1.0,
                "Weight1Unit": 5,
                "Weight2": 0.0,
                "Weight2Unit": None,
                "Factor1": 1.0,
                "Factor2": 1.0,
                "Factor3": 1.0,
                "Factor4": 1.0,
                "BaseType": -1,
                "BaseEntry": None,
                "BaseLine": None,
                "Volume": 0.0,
                "VolumeUnit": 5,
                "Width1": 0.0,
                "Width1Unit": None,
                "Width2": 0.0,
                "Width2Unit": None,
                "Address": "22003 67th Ave S\r\rKent WA  98032\rUSA",
                "TaxCode": "",
                "TaxType": "tt_Yes",
                "TaxLiable": "tYES",
                "PickStatus": "tNO",
                "PickQuantity": 0.0,
                "PickListIdNumber": None,
                "OriginalItem": None,
                "BackOrder": "tYES",
                "FreeText": "",
                "ShippingMethod": 1,
                "POTargetNum": None,
                "POTargetEntry": "",
                "POTargetRowNum": None,
                "CorrectionInvoiceItem": "ciis_ShouldBe",
                "CorrInvAmountToStock": 0.0,
                "CorrInvAmountToDiffAcct": 0.0,
                "AppliedTax": 0.0,
                "AppliedTaxFC": 0.0,
                "AppliedTaxSC": 0.0,
                "WTLiable": "tNO",
                "DeferredTax": "tNO",
                "EqualizationTaxPercent": 0.0,
                "TotalEqualizationTax": 0.0,
                "TotalEqualizationTaxFC": 0.0,
                "TotalEqualizationTaxSC": 0.0,
                "NetTaxAmount": 0.0,
                "NetTaxAmountFC": 0.0,
                "NetTaxAmountSC": 0.0,
                "MeasureUnit": None,
                "UnitsOfMeasurment": 1.0,
                "LineTotal": 162.0,
                "TaxPercentagePerRow": 0.0,
                "TaxTotal": 0.0,
                "ConsumerSalesForecast": "tYES",
                "ExciseAmount": 0.0,
                "TaxPerUnit": 0.0,
                "TotalInclTax": 0.0,
                "CountryOrg": None,
                "SWW": "",
                "TransactionType": None,
                "DistributeExpense": "tYES",
                "RowTotalFC": 0.0,
                "RowTotalSC": 162.0,
                "LastBuyInmPrice": 0.0,
                "LastBuyDistributeSumFc": 0.0,
                "LastBuyDistributeSumSc": 0.0,
                "LastBuyDistributeSum": 0.0,
                "StockDistributesumForeign": 0.0,
                "StockDistributesumSystem": 0.0,
                "StockDistributesum": 0.0,
                "StockInmPrice": 0.0,
                "PickStatusEx": "dlps_NotPicked",
                "TaxBeforeDPM": 0.0,
                "TaxBeforeDPMFC": 0.0,
                "TaxBeforeDPMSC": 0.0,
                "CFOPCode": None,
                "CSTCode": None,
                "Usage": None,
                "TaxOnly": "tNO",
                "VisualOrder": 1,
                "BaseOpenQuantity": None,
                "UnitPrice": 90.0,
                "LineStatus": "bost_Open",
                "PackageQuantity": 1.0,
                "Text": "",
                "LineType": "dlt_Regular",
                "COGSCostingCode": None,
                "COGSAccountCode": "_SYS00000000253",
                "ChangeAssemlyBoMWarehouse": "N",
                "GrossBuyPrice": 43.390,
                "GrossBase": -5,
                "GrossProfitTotalBasePrice": 86.770,
                "CostingCode2": None,
                "CostingCode3": None,
                "CostingCode4": None,
                "CostingCode5": None,
                "ItemDetails": None,
                "LocationCode": None,
                "ActualDeliveryDate": None,
                "RemainingOpenQuantity": 2.0,
                "OpenAmount": 162.0,
                "OpenAmountFC": 0.0,
                "OpenAmountSC": 162.0,
                "ExLineNo": None,
                "RequiredDate": None,
                "RequiredQuantity": None,
                "COGSCostingCode2": None,
                "COGSCostingCode3": None,
                "COGSCostingCode4": None,
                "COGSCostingCode5": None,
                "CSTforIPI": None,
                "CSTforPIS": None,
                "CSTforCOFINS": None,
                "CreditOriginCode": None,
                "WithoutInventoryMovement": "tNO",
                "AgreementNo": None,
                "AgreementRowNumber": None,
                "ActualBaseEntry": None,
                "ActualBaseLine": None,
                "DocEntry": 179667,
                "Surpluses": None,
                "DefectAndBreakup": None,
                "Shortages": None,
                "ConsiderQuantity": "tNO",
                "PartialRetirement": "tNO",
                "RetirementQuantity": None,
                "RetirementAPC": 0.0,
                "ThirdParty": "tNO",
                "PoNum": None,
                "PoItmNum": None,
                "ExpenseType": None,
                "ReceiptNumber": None,
                "ExpenseOperationType": None,
                "FederalTaxID": None,
                "GrossProfit": 75.230,
                "GrossProfitFC": 0.0,
                "GrossProfitSC": 75.230,
                "PriceSource": "dpsManual",
                "StgSeqNum": None,
                "StgEntry": None,
                "StgDesc": None,
                "UoMEntry": -1,
                "UoMCode": "Manual",
                "InventoryQuantity": 2.0,
                "RemainingOpenInventoryQuantity": 2.0,
                "ParentLineNum": None,
                "Incoterms": None,
                "TransportMode": None,
                "NatureOfTransaction": None,
                "DestinationCountryForImport": None,
                "DestinationRegionForImport": None,
                "OriginCountryForExport": None,
                "OriginRegionForExport": None,
                "ItemType": "dit_Item",
                "ChangeInventoryQuantityIndependently": "tNO",
                "FreeOfChargeBP": "tNO",
                "SACEntry": None,
                "HSNEntry": None,
                "GrossPrice": 90.0,
                "GrossTotal": 162.0,
                "GrossTotalFC": 0.0,
                "GrossTotalSC": 162.0,
                "NCMCode": -1,
                "NVECode": None,
                "IndEscala": None,
                "CtrSealQty": None,
                "CNJPMan": None,
                "CESTCode": -1,
                "UFFiscalBenefitCode": None,
                "ReverseCharge": "tNO",
                "ShipToCode": "Mom Corp",
                "ShipToDescription": "123 5th ave\r\rNew York City NY  10006\rUSA",
                "OwnerCode": None,
                "ExternalCalcTaxRate": None,
                "ExternalCalcTaxAmount": 0.0,
                "ExternalCalcTaxAmountFC": 0.0,
                "ExternalCalcTaxAmountSC": 0.0,
                "StandardItemIdentification": 0,
                "CommodityClassification": 0,
                "UnencumberedReason": None,
                "CUSplit": None,
                "U_A_PAYT": None,
                "U_A_CCNo": None,
                "U_A_CAMT": None,
                "U_A_EDATE": None,
                "U_A_CREFNO": None,
                "U_A_ACODE": None,
                "U_A_ADATE": None,
                "U_A_SECCOD": None,
                "U_A_ADDR1": None,
                "U_A_ADDR2": None,
                "U_A_ADDR3": None,
                "U_A_CITY": None,
                "U_A_ZIP": None,
                "U_A_STATE": None,
                "U_A_CTYPE": None,
                "U_A_CARDNAME": None,
                "U_A_MORDERID": None,
                "U_ZEDS_Comments": None,
                "U_ZEDS_BillBack": None,
                "U_TRC_LNum": None,
                "U_TRC_TRACK_SOI": None,
                "U_NWR_Base": None,
                "U_CustDate": None,
                "U_NWR_QtyAllocated": None,
                "U_TransitWHSCode": None,
                "U_ReclamQty": None,
                "U_QAMark": None,
                "U_IncomingQty": None,
                "U_NWR_Bin": None,
                "LineTaxJurisdictions": [],
                "DocumentLineAdditionalExpenses": [],
                "WithholdingTaxLines": [],
                "SerialNumbers": [],
                "BatchNumbers": [],
                "DocumentLinesBinAllocations": [],
            },
        ],
        "ElectronicProtocols": [],
        "DocumentAdditionalExpenses": [
            {
                "ExpenseCode": 1,
                "LineTotal": 12.50,
                "LineTotalFC": 0.0,
                "LineTotalSys": 12.50,
                "PaidToDate": 0.0,
                "PaidToDateFC": 0.0,
                "PaidToDateSys": 0.0,
                "Remarks": None,
                "DistributionMethod": "aedm_None",
                "TaxLiable": "tYES",
                "VatGroup": "",
                "TaxPercent": 0.0,
                "TaxSum": 0.0,
                "TaxSumFC": 0.0,
                "TaxSumSys": 0.0,
                "DeductibleTaxSum": 0.0,
                "DeductibleTaxSumFC": 0.0,
                "DeductibleTaxSumSys": 0.0,
                "AquisitionTax": "tNO",
                "TaxCode": "",
                "TaxType": "aext_NormalTax",
                "TaxPaid": 0.0,
                "TaxPaidFC": 0.0,
                "TaxPaidSys": 0.0,
                "EqualizationTaxPercent": 0.0,
                "EqualizationTaxSum": 0.0,
                "EqualizationTaxFC": 0.0,
                "EqualizationTaxSys": 0.0,
                "TaxTotalSum": 0.0,
                "TaxTotalSumFC": 0.0,
                "TaxTotalSumSys": 0.0,
                "BaseDocEntry": -1,
                "BaseDocLine": -1,
                "BaseDocType": -1,
                "BaseDocumentReference": None,
                "LineNum": 0,
                "LastPurchasePrice": None,
                "Status": "bost_Open",
                "Stock": "tNO",
                "TargetAbsEntry": -1,
                "TargetType": None,
                "WTLiable": "tNO",
                "DistributionRule": "",
                "Project": None,
                "DistributionRule2": None,
                "DistributionRule3": None,
                "DistributionRule4": None,
                "DistributionRule5": None,
                "LineGross": 12.50,
                "LineGrossSys": 12.50,
                "LineGrossFC": 0.0,
                "ExternalCalcTaxRate": 0.0,
                "ExternalCalcTaxAmount": 0.0,
                "ExternalCalcTaxAmountFC": 0.0,
                "ExternalCalcTaxAmountSC": 0.0,
                "CUSplit": "tNO",
                "DocExpenseTaxJurisdictions": [],
            }
        ],
        "WithholdingTaxDataWTXCollection": [],
        "WithholdingTaxDataCollection": [],
        "DocumentSpecialLines": [],
        "TaxExtension": {
            "TaxId0": None,
            "TaxId1": None,
            "TaxId2": None,
            "TaxId3": None,
            "TaxId4": None,
            "TaxId5": None,
            "TaxId6": None,
            "TaxId7": None,
            "TaxId8": None,
            "TaxId9": None,
            "State": None,
            "County": None,
            "Incoterms": None,
            "Vehicle": None,
            "VehicleState": None,
            "NFRef": None,
            "Carrier": None,
            "PackQuantity": None,
            "PackDescription": None,
            "Brand": None,
            "ShipUnitNo": None,
            "NetWeight": 0.0,
            "GrossWeight": 0.0,
            "StreetS": "123 5th ave",
            "BlockS": None,
            "BuildingS": None,
            "CityS": "New York City",
            "ZipCodeS": "10006",
            "CountyS": None,
            "StateS": "NY",
            "CountryS": "US",
            "StreetB": "123 4th ave",
            "BlockB": None,
            "BuildingB": "",
            "CityB": "New York City",
            "ZipCodeB": "10006",
            "CountyB": None,
            "StateB": "NY",
            "CountryB": "US",
            "ImportOrExport": None,
            "MainUsage": None,
            "GlobalLocationNumberS": None,
            "GlobalLocationNumberB": None,
            "TaxId12": None,
            "TaxId13": None,
            "BillOfEntryNo": None,
            "BillOfEntryDate": None,
            "OriginalBillOfEntryNo": None,
            "OriginalBillOfEntryDate": None,
            "ImportOrExportType": "et_IpmortsOrExports",
            "PortCode": None,
            "DocEntry": 179667,
            "BoEValue": 0.0,
            "ClaimRefund": None,
            "DifferentialOfTaxRate": None,
            "IsIGSTAccount": None,
        },
        "AddressExtension": {
            "ShipToStreet": "123 5th ave",
            "ShipToStreetNo": None,
            "ShipToBlock": None,
            "ShipToBuilding": None,
            "ShipToCity": "New York City",
            "ShipToZipCode": "10006",
            "ShipToCounty": None,
            "ShipToState": "NY",
            "ShipToCountry": "US",
            "ShipToAddressType": None,
            "BillToStreet": "123 4th ave",
            "BillToStreetNo": None,
            "BillToBlock": None,
            "BillToBuilding": "",
            "BillToCity": "New York City",
            "BillToZipCode": "10006",
            "BillToCounty": None,
            "BillToState": "NY",
            "BillToCountry": "US",
            "BillToAddressType": None,
            "ShipToGlobalLocationNumber": None,
            "BillToGlobalLocationNumber": None,
            "ShipToAddress2": None,
            "ShipToAddress3": None,
            "BillToAddress2": None,
            "BillToAddress3": None,
            "PlaceOfSupply": None,
            "PurchasePlaceOfSupply": None,
            "DocEntry": 179667,
            "GoodsIssuePlaceBP": None,
            "GoodsIssuePlaceCNPJ": None,
            "GoodsIssuePlaceCPF": None,
            "GoodsIssuePlaceStreet": None,
            "GoodsIssuePlaceStreetNo": None,
            "GoodsIssuePlaceBuilding": None,
            "GoodsIssuePlaceZip": None,
            "GoodsIssuePlaceBlock": None,
            "GoodsIssuePlaceCity": None,
            "GoodsIssuePlaceCounty": None,
            "GoodsIssuePlaceState": None,
            "GoodsIssuePlaceCountry": None,
            "GoodsIssuePlacePhone": None,
            "GoodsIssuePlaceEMail": None,
            "GoodsIssuePlaceDepartureDate": None,
            "DeliveryPlaceBP": None,
            "DeliveryPlaceCNPJ": None,
            "DeliveryPlaceCPF": None,
            "DeliveryPlaceStreet": None,
            "DeliveryPlaceStreetNo": None,
            "DeliveryPlaceBuilding": None,
            "DeliveryPlaceZip": None,
            "DeliveryPlaceBlock": None,
            "DeliveryPlaceCity": None,
            "DeliveryPlaceCounty": None,
            "DeliveryPlaceState": None,
            "DeliveryPlaceCountry": None,
            "DeliveryPlacePhone": None,
            "DeliveryPlaceEMail": None,
            "DeliveryPlaceDepartureDate": None,
        },
        "DocumentReferences": [],
    }


@pytest.fixture
def sap_business_partner():
    return {
        "odata.metadata": "https://api.myfirstech.com:50000/b1s/v1/$metadata#BusinessPartners/@Element",
        "odata.etag": 'W/"0716D9708D321FFB6A00818614779E779925365C"',
        "CardCode": "MOM",
        "CardName": "Mom's Friendly Robot Company",
        "CardType": "cCustomer",
        "GroupCode": 134,
        "Address": "123 4th ave",
        "ZipCode": "10006",
        "MailAddress": "123 5th ave",
        "MailZipCode": "10006",
        "Phone1": "987654321",
        "Phone2": "456456456",
        "Fax": "1234",
        "ContactPerson": "Mom",
        "Notes": "...Remarking.....",
        "PayTermsGrpCode": 8,
        "CreditLimit": 10000.0,
        "MaxCommitment": 10000.0,
        "DiscountPercent": None,
        "VatLiable": "vLiable",
        "FederalTaxID": None,
        "DeductibleAtSource": "tNO",
        "DeductionPercent": 0.0,
        "DeductionValidUntil": None,
        "PriceListNum": 2,
        "IntrestRatePercent": 0.0,
        "CommissionPercent": 0.0,
        "CommissionGroupCode": 0,
        "FreeText": None,
        "SalesPersonCode": 21,
        "Currency": "$",
        "RateDiffAccount": "",
        "Cellular": "12345",
        "AvarageLate": None,
        "City": "New York City",
        "County": None,
        "Country": "US",
        "MailCity": "New York City",
        "MailCounty": None,
        "MailCountry": "US",
        "EmailAddress": None,
        "Picture": None,
        "DefaultAccount": None,
        "DefaultBranch": None,
        "DefaultBankCode": "-1",
        "AdditionalID": None,
        "Pager": None,
        "FatherCard": None,
        "CardForeignName": None,
        "FatherType": "cPayments_sum",
        "DeductionOffice": None,
        "ExportCode": None,
        "MinIntrest": 0.0,
        "CurrentAccountBalance": 0.0,
        "OpenDeliveryNotesBalance": 2004.38,
        "OpenOrdersBalance": 34455.26,
        "OpenChecksBalance": 0.0,
        "VatGroup": None,
        "ShippingType": 3,
        "Password": None,
        "Indicator": None,
        "IBAN": None,
        "CreditCardCode": 1,
        "CreditCardNum": "**********0027",
        "CreditCardExpiration": "2022-01-31",
        "DebitorAccount": "_SYS00000000067",
        "OpenOpportunities": None,
        "Valid": "tYES",
        "ValidFrom": None,
        "ValidTo": None,
        "ValidRemarks": None,
        "Frozen": "tNO",
        "FrozenFrom": None,
        "FrozenTo": None,
        "FrozenRemarks": None,
        "Block": None,
        "BillToState": "NY",
        "ShipToState": "NY",
        "ExemptNum": None,
        "Priority": -1,
        "FormCode1099": None,
        "Box1099": None,
        "PeymentMethodCode": None,
        "BackOrder": "tYES",
        "PartialDelivery": "tYES",
        "BlockDunning": "tNO",
        "BankCountry": None,
        "HouseBank": "KEY",
        "HouseBankCountry": "US",
        "HouseBankAccount": "4479683033829",
        "ShipToDefault": "Mom Corp",
        "DunningLevel": None,
        "DunningDate": None,
        "CollectionAuthorization": "tNO",
        "DME": None,
        "InstructionKey": None,
        "SinglePayment": "tNO",
        "ISRBillerID": None,
        "PaymentBlock": "tNO",
        "ReferenceDetails": None,
        "HouseBankBranch": "Seattle",
        "OwnerIDNumber": None,
        "PaymentBlockDescription": -1,
        "TaxExemptionLetterNum": None,
        "MaxAmountOfExemption": 0.0,
        "ExemptionValidityDateFrom": None,
        "ExemptionValidityDateTo": None,
        "LinkedBusinessPartner": "12 Volt",
        "LastMultiReconciliationNum": None,
        "DeferredTax": "tNO",
        "Equalization": "tNO",
        "SubjectToWithholdingTax": None,
        "CertificateNumber": None,
        "ExpirationDate": None,
        "NationalInsuranceNum": None,
        "AccrualCriteria": "tNO",
        "WTCode": None,
        "BillToBuildingFloorRoom": "",
        "DownPaymentClearAct": "_SYS00000000118",
        "ChannelBP": None,
        "DefaultTechnician": None,
        "BilltoDefault": "Mom Corp",
        "CustomerBillofExchangDisc": None,
        "Territory": None,
        "ShipToBuildingFloorRoom": "",
        "CustomerBillofExchangPres": None,
        "ProjectCode": None,
        "VatGroupLatinAmerica": None,
        "DunningTerm": None,
        "Website": "ilovebender.com",
        "OtherReceivablePayable": None,
        "BillofExchangeonCollection": None,
        "CompanyPrivate": "cCompany",
        "LanguageCode": 3,
        "UnpaidBillofExchange": None,
        "WithholdingTaxDeductionGroup": -1,
        "ClosingDateProcedureNumber": None,
        "Profession": None,
        "BankChargesAllocationCode": None,
        "TaxRoundingRule": "trr_CompanyDefault",
        "Properties1": "tYES",
        "Properties2": "tYES",
        "Properties3": "tYES",
        "Properties4": "tYES",
        "Properties5": "tYES",
        "Properties6": "tYES",
        "Properties7": "tYES",
        "Properties8": "tYES",
        "Properties9": "tYES",
        "Properties10": "tYES",
        "Properties11": "tYES",
        "Properties12": "tYES",
        "Properties13": "tYES",
        "Properties14": "tYES",
        "Properties15": "tYES",
        "Properties16": "tYES",
        "Properties17": "tYES",
        "Properties18": "tYES",
        "Properties19": "tYES",
        "Properties20": "tYES",
        "Properties21": "tYES",
        "Properties22": "tYES",
        "Properties23": "tYES",
        "Properties24": "tYES",
        "Properties25": "tYES",
        "Properties26": "tYES",
        "Properties27": "tYES",
        "Properties28": "tYES",
        "Properties29": "tYES",
        "Properties30": "tYES",
        "Properties31": "tYES",
        "Properties32": "tYES",
        "Properties33": "tYES",
        "Properties34": "tYES",
        "Properties35": "tYES",
        "Properties36": "tYES",
        "Properties37": "tYES",
        "Properties38": "tYES",
        "Properties39": "tYES",
        "Properties40": "tYES",
        "Properties41": "tYES",
        "Properties42": "tYES",
        "Properties43": "tYES",
        "Properties44": "tYES",
        "Properties45": "tYES",
        "Properties46": "tYES",
        "Properties47": "tYES",
        "Properties48": "tYES",
        "Properties49": "tYES",
        "Properties50": "tYES",
        "Properties51": "tYES",
        "Properties52": "tYES",
        "Properties53": "tYES",
        "Properties54": "tYES",
        "Properties55": "tYES",
        "Properties56": "tYES",
        "Properties57": "tYES",
        "Properties58": "tYES",
        "Properties59": "tYES",
        "Properties60": "tYES",
        "Properties61": "tYES",
        "Properties62": "tYES",
        "Properties63": "tYES",
        "Properties64": "tYES",
        "CompanyRegistrationNumber": None,
        "VerificationNumber": None,
        "DiscountBaseObject": "dgboNone",
        "DiscountRelations": "dgrLowestDiscount",
        "TypeReport": "atCompany",
        "ThresholdOverlook": "tNO",
        "SurchargeOverlook": "tNO",
        "DownPaymentInterimAccount": None,
        "OperationCode347": "ocSalesOrServicesRevenues",
        "InsuranceOperation347": "tNO",
        "HierarchicalDeduction": "tNO",
        "ShaamGroup": "sgServicesAndAsset",
        "WithholdingTaxCertified": "tNO",
        "BookkeepingCertified": "tNO",
        "PlanningGroup": None,
        "Affiliate": "tNO",
        "Industry": None,
        "VatIDNum": None,
        "DatevAccount": None,
        "DatevFirstDataEntry": "tYES",
        "UseShippedGoodsAccount": "tNO",
        "GTSRegNo": None,
        "GTSBankAccountNo": None,
        "GTSBillingAddrTel": None,
        "ETaxWebSite": None,
        "HouseBankIBAN": "",
        "VATRegistrationNumber": None,
        "RepresentativeName": None,
        "IndustryType": None,
        "BusinessType": None,
        "Series": 1,
        "AutomaticPosting": None,
        "InterestAccount": None,
        "FeeAccount": None,
        "CampaignNumber": None,
        "AliasName": None,
        "DefaultBlanketAgreementNumber": None,
        "EffectiveDiscount": "dgrLowestDiscount",
        "NoDiscounts": "tNO",
        "EffectivePrice": "epDefaultPriority",
        "EffectivePriceConsidersPriceBeforeDiscount": "tNO",
        "GlobalLocationNumber": None,
        "EDISenderID": None,
        "EDIRecipientID": None,
        "ResidenNumber": "rntSpanishFiscalID",
        "RelationshipCode": None,
        "RelationshipDateFrom": None,
        "RelationshipDateTill": None,
        "UnifiedFederalTaxID": None,
        "AttachmentEntry": None,
        "TypeOfOperation": None,
        "EndorsableChecksFromBP": "tYES",
        "AcceptsEndorsedChecks": "tNO",
        "OwnerCode": None,
        "BlockSendingMarketingContent": "tNO",
        "AgentCode": None,
        "PriceMode": None,
        "EDocGenerationType": None,
        "EDocStreet": None,
        "EDocStreetNumber": None,
        "EDocBuildingNumber": None,
        "EDocZipCode": None,
        "EDocCity": None,
        "EDocCountry": None,
        "EDocDistrict": None,
        "EDocRepresentativeFirstName": None,
        "EDocRepresentativeSurname": None,
        "EDocRepresentativeCompany": None,
        "EDocRepresentativeFiscalCode": None,
        "EDocRepresentativeAdditionalId": None,
        "EDocPECAddress": None,
        "IPACodeForPA": None,
        "UpdateDate": "2021-12-16",
        "UpdateTime": "14:57:20",
        "ExemptionMaxAmountValidationType": "emaIndividual",
        "ECommerceMerchantID": None,
        "UseBillToAddrToDetermineTax": "tNO",
        "CreateDate": "2021-05-13",
        "CreateTime": "13:44:34",
        "DefaultTransporterEntry": None,
        "DefaultTransporterLineNumber": None,
        "FCERelevant": "tNO",
        "FCEValidateBaseDelivery": "tNO",
        "MainUsage": None,
        "EBooksVATExemptionCause": None,
        "LegalText": None,
        "DataVersion": 17,
        "ExchangeRateForIncomingPayment": "tYES",
        "ExchangeRateForOutgoingPayment": "tYES",
        "CertificateDetails": None,
        "DefaultCurrency": None,
        "EORINumber": None,
        "FCEAsPaymentMeans": "tNO",
        "U_V33_PTACCTNUM": None,
        "U_Territory": "T1",
        "U_PriceLevel": None,
        "U_SalesManager": "Jason",
        "U_SalesSupport": "Rob",
        "U_BBUPS": None,
        "U_AddNotes": None,
        "U_VIR": "YES",
        "U_Pro": None,
        "U_SpecPricing": None,
        "U_V33_SYNCB2B": "YES",
        "U_V33_PRODLR": "NO",
        "U_V33_COMPUSTAR": "YES",
        "U_V33_ARCSTART": "YES",
        "U_V33_FTX": "YES",
        "U_FT_Per_Guarantee": None,
        "U_FT_Agr_Update_Date": None,
        "U_FT_Reseller_Permit": None,
        "U_FT_Fall_VIR_Partic": "NO",
        "U_AP_Contact": None,
        "U_AP_Email": None,
        "U_AP_Phone": None,
        "U_AP_Notes": None,
        "U_FT_DFI_PRICING": "YES",
        "U_BOY_23_QCCS": None,
        "U_BOY_23_ADPRTCD": None,
        "U_BOY_TB_0": "N",
        "U_Warranty": "EXCHANGE",
        "U_MAP_Policy_Date": None,
        "ElectronicProtocols": [],
        "BPAddresses": [
            {
                "AddressName": "Planet Express",
                "Street": "1234 something changed",
                "Block": None,
                "ZipCode": "1234",
                "City": "New New York",
                "County": None,
                "Country": "CA",
                "State": "",
                "FederalTaxID": None,
                "TaxCode": None,
                "BuildingFloorRoom": "",
                "AddressType": "bo_ShipTo",
                "AddressName2": None,
                "AddressName3": None,
                "TypeOfAddress": None,
                "StreetNo": None,
                "BPCode": "MOM",
                "RowNum": 2,
                "GlobalLocationNumber": None,
                "Nationality": None,
                "TaxOffice": None,
                "GSTIN": None,
                "GstType": None,
                "CreateDate": "2021-06-04",
                "CreateTime": "13:51:19",
                "MYFType": None,
                "TaasEnabled": "tYES",
            },
            {
                "AddressName": "Mom Corp",
                "Street": "123 5th ave",
                "Block": None,
                "ZipCode": "10006",
                "City": "New York City",
                "County": None,
                "Country": "US",
                "State": "NY",
                "FederalTaxID": None,
                "TaxCode": None,
                "BuildingFloorRoom": None,
                "AddressType": "bo_ShipTo",
                "AddressName2": None,
                "AddressName3": None,
                "TypeOfAddress": None,
                "StreetNo": None,
                "BPCode": "MOM",
                "RowNum": 3,
                "GlobalLocationNumber": None,
                "Nationality": None,
                "TaxOffice": None,
                "GSTIN": None,
                "GstType": None,
                "CreateDate": "2021-06-04",
                "CreateTime": "13:48:12",
                "MYFType": None,
                "TaasEnabled": "tYES",
            },
            {
                "AddressName": "Mom Corp",
                "Street": "123 4th ave",
                "Block": None,
                "ZipCode": "10006",
                "City": "New York City",
                "County": None,
                "Country": "US",
                "State": "NY",
                "FederalTaxID": None,
                "TaxCode": None,
                "BuildingFloorRoom": "",
                "AddressType": "bo_BillTo",
                "AddressName2": None,
                "AddressName3": None,
                "TypeOfAddress": None,
                "StreetNo": None,
                "BPCode": "MOM",
                "RowNum": 4,
                "GlobalLocationNumber": None,
                "Nationality": None,
                "TaxOffice": None,
                "GSTIN": None,
                "GstType": None,
                "CreateDate": "2021-06-07",
                "CreateTime": "09:47:06",
                "MYFType": None,
                "TaasEnabled": "tYES",
            },
            {
                "AddressName": "Canadian Shipping",
                "Street": "456 Thank you way",
                "Block": None,
                "ZipCode": "V1X 8O8",
                "City": "Nice Town",
                "County": None,
                "Country": "CA",
                "State": "BC",
                "FederalTaxID": None,
                "TaxCode": None,
                "BuildingFloorRoom": None,
                "AddressType": "bo_ShipTo",
                "AddressName2": None,
                "AddressName3": None,
                "TypeOfAddress": None,
                "StreetNo": None,
                "BPCode": "MOM",
                "RowNum": 6,
                "GlobalLocationNumber": None,
                "Nationality": None,
                "TaxOffice": None,
                "GSTIN": None,
                "GstType": None,
                "CreateDate": "2021-06-24",
                "CreateTime": "12:06:48",
                "MYFType": None,
                "TaasEnabled": "tYES",
            },
            {
                "AddressName": "another billing address",
                "Street": "123 main st.",
                "Block": None,
                "ZipCode": "12345",
                "City": "Townsville",
                "County": None,
                "Country": "US",
                "State": "MN",
                "FederalTaxID": None,
                "TaxCode": None,
                "BuildingFloorRoom": None,
                "AddressType": "bo_BillTo",
                "AddressName2": None,
                "AddressName3": None,
                "TypeOfAddress": None,
                "StreetNo": None,
                "BPCode": "MOM",
                "RowNum": 7,
                "GlobalLocationNumber": None,
                "Nationality": None,
                "TaxOffice": None,
                "GSTIN": None,
                "GstType": None,
                "CreateDate": "2021-06-24",
                "CreateTime": "12:13:10",
                "MYFType": None,
                "TaasEnabled": "tYES",
            },
            {
                "AddressName": "billing 3",
                "Street": "123 nice ave.",
                "Block": None,
                "ZipCode": "12345",
                "City": "Townsville",
                "County": None,
                "Country": "US",
                "State": "NE",
                "FederalTaxID": None,
                "TaxCode": None,
                "BuildingFloorRoom": "unit A",
                "AddressType": "bo_BillTo",
                "AddressName2": None,
                "AddressName3": None,
                "TypeOfAddress": None,
                "StreetNo": None,
                "BPCode": "MOM",
                "RowNum": 8,
                "GlobalLocationNumber": None,
                "Nationality": None,
                "TaxOffice": None,
                "GSTIN": None,
                "GstType": None,
                "CreateDate": "2021-06-24",
                "CreateTime": "12:13:51",
                "MYFType": None,
                "TaasEnabled": "tYES",
            },
            {
                "AddressName": "More canada",
                "Street": "876 Curling Driive",
                "Block": None,
                "ZipCode": "V1A 1A1",
                "City": "Vancouver",
                "County": None,
                "Country": "CA",
                "State": "BC",
                "FederalTaxID": None,
                "TaxCode": None,
                "BuildingFloorRoom": "Unit 2",
                "AddressType": "bo_ShipTo",
                "AddressName2": None,
                "AddressName3": None,
                "TypeOfAddress": None,
                "StreetNo": None,
                "BPCode": "MOM",
                "RowNum": 9,
                "GlobalLocationNumber": None,
                "Nationality": None,
                "TaxOffice": None,
                "GSTIN": None,
                "GstType": None,
                "CreateDate": "2021-06-24",
                "CreateTime": "12:17:03",
                "MYFType": None,
                "TaasEnabled": "tYES",
            },
            {
                "AddressName": "Wernstrom Enterprise",
                "Street": "1729 cube way",
                "Block": None,
                "ZipCode": "12345",
                "City": "New New York",
                "County": None,
                "Country": "US",
                "State": "NY",
                "FederalTaxID": None,
                "TaxCode": None,
                "BuildingFloorRoom": "Unit 0",
                "AddressType": "bo_BillTo",
                "AddressName2": None,
                "AddressName3": None,
                "TypeOfAddress": None,
                "StreetNo": None,
                "BPCode": "MOM",
                "RowNum": 10,
                "GlobalLocationNumber": None,
                "Nationality": None,
                "TaxOffice": None,
                "GSTIN": None,
                "GstType": None,
                "CreateDate": "2021-09-09",
                "CreateTime": "10:22:02",
                "MYFType": None,
                "TaasEnabled": "tYES",
            },
            {
                "AddressName": "new shipping address",
                "Street": "1456 streety ave",
                "Block": None,
                "ZipCode": "12875",
                "City": "make belive town",
                "County": None,
                "Country": "US",
                "State": "OR",
                "FederalTaxID": None,
                "TaxCode": None,
                "BuildingFloorRoom": None,
                "AddressType": "bo_ShipTo",
                "AddressName2": None,
                "AddressName3": None,
                "TypeOfAddress": None,
                "StreetNo": None,
                "BPCode": "MOM",
                "RowNum": 11,
                "GlobalLocationNumber": None,
                "Nationality": None,
                "TaxOffice": None,
                "GSTIN": None,
                "GstType": None,
                "CreateDate": "2021-09-09",
                "CreateTime": "15:02:56",
                "MYFType": None,
                "TaasEnabled": "tYES",
            },
            {
                "AddressName": "Planet Express Shipping",
                "Street": "1234 5th Ave",
                "Block": None,
                "ZipCode": "10001",
                "City": "New New York",
                "County": None,
                "Country": "US",
                "State": "NY",
                "FederalTaxID": None,
                "TaxCode": None,
                "BuildingFloorRoom": "unit X",
                "AddressType": "bo_ShipTo",
                "AddressName2": "Hubert",
                "AddressName3": "Farnsworth",
                "TypeOfAddress": None,
                "StreetNo": None,
                "BPCode": "MOM",
                "RowNum": 12,
                "GlobalLocationNumber": None,
                "Nationality": None,
                "TaxOffice": None,
                "GSTIN": None,
                "GstType": None,
                "CreateDate": "2021-12-13",
                "CreateTime": "15:19:38",
                "MYFType": None,
                "TaasEnabled": "tYES",
            },
        ],
        "ContactEmployees": [
            {
                "CardCode": "MOM",
                "Name": "Mom",
                "Position": None,
                "Address": "123 Fakes Street",
                "Phone1": "123123123",
                "Phone2": None,
                "MobilePhone": None,
                "Fax": None,
                "E_Mail": "droneinator+mom@gmail.com",
                "Pager": None,
                "Remarks1": None,
                "Remarks2": None,
                "Password": None,
                "InternalCode": 12697,
                "PlaceOfBirth": "AO",
                "DateOfBirth": "2121-06-04",
                "Gender": "gt_Undefined",
                "Profession": None,
                "Title": "CEO",
                "CityOfBirth": None,
                "CurrentAccountBalance": "tYES",
                "FirstName": "Mom",
                "MiddleName": None,
                "LastName": "Tester",
                "EmailGroupCode": None,
                "BlockSendingMarketingContent": "tNO",
                "CreateDate": "2021-05-26",
                "CreateTime": "11:31:14",
                "UpdateDate": "2021-12-15",
                "UpdateTime": "16:07:00",
                "ConnectedAddressName": None,
                "ConnectedAddressType": None,
                "ForeignCountry": None,
                "U_v33_TempPassword": None,
                "U_v33_PasswordHash": "passwords in plain text??",
                "U_v33_IsLoginEnabled": None,
                "U_v33_B1WebRoles": None,
                "U_v33_LinkedObjKey": None,
                "U_v33_Answer": None,
                "U_v33_Question": None,
                "U_ZEDS_BPLId": None,
                "U_BOY_85_ECAT": None,
                "U_BOY_85_ECAT2": None,
                "U_BOY_85_ECAT3": None,
                "U_BOY_85_ECAT4": None,
                "U_BOY_85_ECAT5": None,
                "ContactEmployeeBlockSendingMarketingContents": [],
            },
            {
                "CardCode": "MOM",
                "Name": "Walt",
                "Position": None,
                "Address": None,
                "Phone1": None,
                "Phone2": None,
                "MobilePhone": None,
                "Fax": None,
                "E_Mail": "droneinator+walter@gmail.com",
                "Pager": None,
                "Remarks1": None,
                "Remarks2": None,
                "Password": None,
                "InternalCode": 12698,
                "PlaceOfBirth": "-1",
                "DateOfBirth": None,
                "Gender": "gt_Undefined",
                "Profession": None,
                "Title": None,
                "CityOfBirth": None,
                "Active": "tYES",
                "FirstName": "Walter",
                "MiddleName": "Carol",
                "LastName": "Miller",
                "EmailGroupCode": None,
                "BlockSendingMarketingContent": "tNO",
                "CreateDate": "2021-06-04",
                "CreateTime": "10:44:29",
                "UpdateDate": "2021-12-15",
                "UpdateTime": "10:32:00",
                "ConnectedAddressName": None,
                "ConnectedAddressType": None,
                "ForeignCountry": None,
                "U_v33_TempPassword": None,
                "U_v33_PasswordHash": None,
                "U_v33_IsLoginEnabled": None,
                "U_v33_B1WebRoles": None,
                "U_v33_LinkedObjKey": None,
                "U_v33_Answer": None,
                "U_v33_Question": None,
                "U_ZEDS_BPLId": None,
                "U_BOY_85_ECAT": None,
                "U_BOY_85_ECAT2": None,
                "U_BOY_85_ECAT3": None,
                "U_BOY_85_ECAT4": None,
                "U_BOY_85_ECAT5": None,
                "ContactEmployeeBlockSendingMarketingContents": [],
            },
            {
                "CardCode": "MOM",
                "Name": "Ignar",
                "Position": None,
                "Address": None,
                "Phone1": None,
                "Phone2": None,
                "MobilePhone": None,
                "Fax": None,
                "E_Mail": "droneinator+Ignar@gmail.com",
                "Pager": None,
                "Remarks1": None,
                "Remarks2": None,
                "Password": None,
                "InternalCode": 12699,
                "PlaceOfBirth": "-1",
                "DateOfBirth": None,
                "Gender": "gt_Undefined",
                "Profession": None,
                "Title": "Lackey",
                "CityOfBirth": None,
                "Active": "tYES",
                "FirstName": "Ignar",
                "MiddleName": "Willy",
                "LastName": None,
                "EmailGroupCode": None,
                "BlockSendingMarketingContent": "tNO",
                "CreateDate": "2021-06-04",
                "CreateTime": "10:56:22",
                "UpdateDate": "2021-12-15",
                "UpdateTime": "10:32:00",
                "ConnectedAddressName": None,
                "ConnectedAddressType": None,
                "ForeignCountry": None,
                "U_v33_TempPassword": None,
                "U_v33_PasswordHash": None,
                "U_v33_IsLoginEnabled": None,
                "U_v33_B1WebRoles": None,
                "U_v33_LinkedObjKey": None,
                "U_v33_Answer": None,
                "U_v33_Question": None,
                "U_ZEDS_BPLId": None,
                "U_BOY_85_ECAT": None,
                "U_BOY_85_ECAT2": None,
                "U_BOY_85_ECAT3": None,
                "U_BOY_85_ECAT4": None,
                "U_BOY_85_ECAT5": None,
                "ContactEmployeeBlockSendingMarketingContents": [],
            },
            {
                "CardCode": "MOM",
                "Name": "Larry",
                "Position": "Goon",
                "Address": None,
                "Phone1": None,
                "Phone2": None,
                "MobilePhone": None,
                "Fax": None,
                "E_Mail": "droneinator+larry@gmail.com",
                "Pager": None,
                "Remarks1": None,
                "Remarks2": None,
                "Password": None,
                "InternalCode": 12700,
                "PlaceOfBirth": "-1",
                "DateOfBirth": None,
                "Gender": "gt_Undefined",
                "Profession": None,
                "Title": "Goon",
                "CityOfBirth": None,
                "Active": "tYES",
                "FirstName": "Larry",
                "MiddleName": None,
                "LastName": None,
                "EmailGroupCode": None,
                "BlockSendingMarketingContent": "tNO",
                "CreateDate": "2021-06-04",
                "CreateTime": "13:53:49",
                "UpdateDate": "2021-12-15",
                "UpdateTime": "10:32:00",
                "ConnectedAddressName": None,
                "ConnectedAddressType": None,
                "ForeignCountry": None,
                "U_v33_TempPassword": None,
                "U_v33_PasswordHash": None,
                "U_v33_IsLoginEnabled": None,
                "U_v33_B1WebRoles": None,
                "U_v33_LinkedObjKey": None,
                "U_v33_Answer": None,
                "U_v33_Question": None,
                "U_ZEDS_BPLId": None,
                "U_BOY_85_ECAT": None,
                "U_BOY_85_ECAT2": None,
                "U_BOY_85_ECAT3": None,
                "U_BOY_85_ECAT4": None,
                "U_BOY_85_ECAT5": None,
                "ContactEmployeeBlockSendingMarketingContents": [],
            },
        ],
        "BPAccountReceivablePaybleCollection": [],
        "BPPaymentMethods": [],
        "BPWithholdingTaxCollection": [],
        "BPPaymentDates": [],
        "BPBranchAssignment": [],
        "BPBankAccounts": [],
        "BPFiscalTaxIDCollection": [],
        "DiscountGroups": [],
        "BPIntrastatExtension": {},
        "BPBlockSendingMarketingContents": [],
        "BPCurrenciesCollection": [],
        "payment_terms": "1% 45 Net 60 Days",
        "channel_slug": "dealer",
        "outside_sales_rep_emails": ["cmats@pmi-hawaii.com"],
        "outside_sales_rep_name": "Paradise Marketing",
    }


@pytest.fixture
def updated_sap_business_partner():
    """The same as `sap_business_partner` with the following changes:
        - a shipping address has been deleted
        - a shipping address has been created
        - a shipping address has been edited (new street)
        - a billing address has been created
        - the "Remarks" field has been updated
        - The "Larry" contact was updated to have the last name "Miller"

    These changes were made inside the SAP client, then retrieved using the service
    layer endpoint.
    """
    return {
        "odata.metadata": "https://api.myfirstech.com:50000/b1s/v1/$metadata#BusinessPartners/@Element",
        "odata.etag": 'W/"91032AD7BBCB6CF72875E8E8207DCFBA80173F7C"',
        "CardCode": "MOM",
        "CardName": "Mom's Friendly Robot Company",
        "CardType": "cCustomer",
        "GroupCode": 134,
        "Address": "123 4th ave",
        "ZipCode": "10006",
        "MailAddress": "123 5th ave",
        "MailZipCode": "10006",
        "Phone1": "987654321",
        "Phone2": "456456456",
        "Fax": "1234",
        "ContactPerson": "Mom",
        "Notes": "Notes botes gotes",
        "PayTermsGrpCode": 8,
        "CreditLimit": 10000.0,
        "MaxCommitment": 10000.0,
        "DiscountPercent": None,
        "VatLiable": "vLiable",
        "FederalTaxID": None,
        "DeductibleAtSource": "tNO",
        "DeductionPercent": 0.0,
        "DeductionValidUntil": None,
        "PriceListNum": 2,
        "IntrestRatePercent": 0.0,
        "CommissionPercent": 0.0,
        "CommissionGroupCode": 0,
        "FreeText": None,
        "SalesPersonCode": 21,
        "Currency": "$",
        "RateDiffAccount": "",
        "Cellular": "12345",
        "AvarageLate": None,
        "City": "New York City",
        "County": None,
        "Country": "US",
        "MailCity": "New York City",
        "MailCounty": None,
        "MailCountry": "US",
        "EmailAddress": None,
        "Picture": None,
        "DefaultAccount": None,
        "DefaultBranch": None,
        "DefaultBankCode": "-1",
        "AdditionalID": None,
        "Pager": None,
        "FatherCard": None,
        "CardForeignName": None,
        "FatherType": "cPayments_sum",
        "DeductionOffice": None,
        "ExportCode": None,
        "MinIntrest": 0.0,
        "CurrentAccountBalance": 0.0,
        "OpenDeliveryNotesBalance": 2004.380,
        "OpenOrdersBalance": 34772.260,
        "OpenChecksBalance": 0.0,
        "VatGroup": None,
        "ShippingType": 3,
        "Password": None,
        "Indicator": None,
        "IBAN": None,
        "CreditCardCode": 1,
        "CreditCardNum": "**********0027",
        "CreditCardExpiration": "2022-01-31",
        "DebitorAccount": "_SYS00000000067",
        "OpenOpportunities": None,
        "Valid": "tYES",
        "ValidFrom": None,
        "ValidTo": None,
        "ValidRemarks": None,
        "Frozen": "tNO",
        "FrozenFrom": None,
        "FrozenTo": None,
        "FrozenRemarks": None,
        "Block": None,
        "BillToState": "NY",
        "ShipToState": "NY",
        "ExemptNum": None,
        "Priority": -1,
        "FormCode1099": None,
        "Box1099": None,
        "PeymentMethodCode": None,
        "BackOrder": "tYES",
        "PartialDelivery": "tYES",
        "BlockDunning": "tNO",
        "BankCountry": None,
        "HouseBank": "KEY",
        "HouseBankCountry": "US",
        "HouseBankAccount": "4479683033829",
        "ShipToDefault": "Mom Corp",
        "DunningLevel": None,
        "DunningDate": None,
        "CollectionAuthorization": "tNO",
        "DME": None,
        "InstructionKey": None,
        "SinglePayment": "tNO",
        "ISRBillerID": None,
        "PaymentBlock": "tNO",
        "ReferenceDetails": None,
        "HouseBankBranch": "Seattle",
        "OwnerIDNumber": None,
        "PaymentBlockDescription": -1,
        "TaxExemptionLetterNum": None,
        "MaxAmountOfExemption": 0.0,
        "ExemptionValidityDateFrom": None,
        "ExemptionValidityDateTo": None,
        "LinkedBusinessPartner": "12 Volt",
        "LastMultiReconciliationNum": None,
        "DeferredTax": "tNO",
        "Equalization": "tNO",
        "SubjectToWithholdingTax": None,
        "CertificateNumber": None,
        "ExpirationDate": None,
        "NationalInsuranceNum": None,
        "AccrualCriteria": "tNO",
        "WTCode": None,
        "BillToBuildingFloorRoom": "",
        "DownPaymentClearAct": "_SYS00000000118",
        "ChannelBP": None,
        "DefaultTechnician": None,
        "BilltoDefault": "Mom Corp",
        "CustomerBillofExchangDisc": None,
        "Territory": None,
        "ShipToBuildingFloorRoom": "",
        "CustomerBillofExchangPres": None,
        "ProjectCode": None,
        "VatGroupLatinAmerica": None,
        "DunningTerm": None,
        "Website": "ilovebender.com",
        "OtherReceivablePayable": None,
        "BillofExchangeonCollection": None,
        "CompanyPrivate": "cCompany",
        "LanguageCode": 3,
        "UnpaidBillofExchange": None,
        "WithholdingTaxDeductionGroup": -1,
        "ClosingDateProcedureNumber": None,
        "Profession": None,
        "BankChargesAllocationCode": None,
        "TaxRoundingRule": "trr_CompanyDefault",
        "Properties1": "tYES",
        "Properties2": "tYES",
        "Properties3": "tYES",
        "Properties4": "tYES",
        "Properties5": "tYES",
        "Properties6": "tYES",
        "Properties7": "tYES",
        "Properties8": "tYES",
        "Properties9": "tYES",
        "Properties10": "tYES",
        "Properties11": "tYES",
        "Properties12": "tYES",
        "Properties13": "tYES",
        "Properties14": "tYES",
        "Properties15": "tYES",
        "Properties16": "tYES",
        "Properties17": "tYES",
        "Properties18": "tYES",
        "Properties19": "tYES",
        "Properties20": "tYES",
        "Properties21": "tYES",
        "Properties22": "tYES",
        "Properties23": "tYES",
        "Properties24": "tYES",
        "Properties25": "tYES",
        "Properties26": "tYES",
        "Properties27": "tYES",
        "Properties28": "tYES",
        "Properties29": "tYES",
        "Properties30": "tYES",
        "Properties31": "tYES",
        "Properties32": "tYES",
        "Properties33": "tYES",
        "Properties34": "tYES",
        "Properties35": "tYES",
        "Properties36": "tYES",
        "Properties37": "tYES",
        "Properties38": "tYES",
        "Properties39": "tYES",
        "Properties40": "tYES",
        "Properties41": "tYES",
        "Properties42": "tYES",
        "Properties43": "tYES",
        "Properties44": "tYES",
        "Properties45": "tYES",
        "Properties46": "tYES",
        "Properties47": "tYES",
        "Properties48": "tYES",
        "Properties49": "tYES",
        "Properties50": "tYES",
        "Properties51": "tYES",
        "Properties52": "tYES",
        "Properties53": "tYES",
        "Properties54": "tYES",
        "Properties55": "tYES",
        "Properties56": "tYES",
        "Properties57": "tYES",
        "Properties58": "tYES",
        "Properties59": "tYES",
        "Properties60": "tYES",
        "Properties61": "tYES",
        "Properties62": "tYES",
        "Properties63": "tYES",
        "Properties64": "tYES",
        "CompanyRegistrationNumber": None,
        "VerificationNumber": None,
        "DiscountBaseObject": "dgboNone",
        "DiscountRelations": "dgrLowestDiscount",
        "TypeReport": "atCompany",
        "ThresholdOverlook": "tNO",
        "SurchargeOverlook": "tNO",
        "DownPaymentInterimAccount": None,
        "OperationCode347": "ocSalesOrServicesRevenues",
        "InsuranceOperation347": "tNO",
        "HierarchicalDeduction": "tNO",
        "ShaamGroup": "sgServicesAndAsset",
        "WithholdingTaxCertified": "tNO",
        "BookkeepingCertified": "tNO",
        "PlanningGroup": None,
        "Affiliate": "tNO",
        "Industry": None,
        "VatIDNum": None,
        "DatevAccount": None,
        "DatevFirstDataEntry": "tYES",
        "UseShippedGoodsAccount": "tNO",
        "GTSRegNo": None,
        "GTSBankAccountNo": None,
        "GTSBillingAddrTel": None,
        "ETaxWebSite": None,
        "HouseBankIBAN": "",
        "VATRegistrationNumber": None,
        "RepresentativeName": None,
        "IndustryType": None,
        "BusinessType": None,
        "Series": 1,
        "AutomaticPosting": None,
        "InterestAccount": None,
        "FeeAccount": None,
        "CampaignNumber": None,
        "AliasName": None,
        "DefaultBlanketAgreementNumber": None,
        "EffectiveDiscount": "dgrLowestDiscount",
        "NoDiscounts": "tNO",
        "EffectivePrice": "epDefaultPriority",
        "EffectivePriceConsidersPriceBeforeDiscount": "tNO",
        "GlobalLocationNumber": None,
        "EDISenderID": None,
        "EDIRecipientID": None,
        "ResidenNumber": "rntSpanishFiscalID",
        "RelationshipCode": None,
        "RelationshipDateFrom": None,
        "RelationshipDateTill": None,
        "UnifiedFederalTaxID": None,
        "AttachmentEntry": None,
        "TypeOfOperation": None,
        "EndorsableChecksFromBP": "tYES",
        "AcceptsEndorsedChecks": "tNO",
        "OwnerCode": None,
        "BlockSendingMarketingContent": "tNO",
        "AgentCode": None,
        "PriceMode": None,
        "EDocGenerationType": None,
        "EDocStreet": None,
        "EDocStreetNumber": None,
        "EDocBuildingNumber": None,
        "EDocZipCode": None,
        "EDocCity": None,
        "EDocCountry": None,
        "EDocDistrict": None,
        "EDocRepresentativeFirstName": None,
        "EDocRepresentativeSurname": None,
        "EDocRepresentativeCompany": None,
        "EDocRepresentativeFiscalCode": None,
        "EDocRepresentativeAdditionalId": None,
        "EDocPECAddress": None,
        "IPACodeForPA": None,
        "UpdateDate": "2022-02-25",
        "UpdateTime": "11:39:28",
        "ExemptionMaxAmountValidationType": "emaIndividual",
        "ECommerceMerchantID": None,
        "UseBillToAddrToDetermineTax": "tNO",
        "CreateDate": "2021-05-13",
        "CreateTime": "13:44:34",
        "DefaultTransporterEntry": None,
        "DefaultTransporterLineNumber": None,
        "FCERelevant": "tNO",
        "FCEValidateBaseDelivery": "tNO",
        "MainUsage": None,
        "EBooksVATExemptionCause": None,
        "LegalText": None,
        "DataVersion": 20,
        "ExchangeRateForIncomingPayment": "tYES",
        "ExchangeRateForOutgoingPayment": "tYES",
        "CertificateDetails": None,
        "DefaultCurrency": None,
        "EORINumber": None,
        "FCEAsPaymentMeans": "tNO",
        "U_V33_PTACCTNUM": None,
        "U_Territory": "T1",
        "U_PriceLevel": None,
        "U_SalesManager": "Jason",
        "U_SalesSupport": "Rob",
        "U_BBUPS": None,
        "U_AddNotes": None,
        "U_VIR": "YES",
        "U_Pro": None,
        "U_SpecPricing": None,
        "U_V33_SYNCB2B": "YES",
        "U_V33_PRODLR": "NO",
        "U_V33_COMPUSTAR": "YES",
        "U_V33_ARCSTART": "YES",
        "U_V33_FTX": "YES",
        "U_FT_Per_Guarantee": None,
        "U_FT_Agr_Update_Date": None,
        "U_FT_Reseller_Permit": None,
        "U_FT_Fall_VIR_Partic": "NO",
        "U_AP_Contact": None,
        "U_AP_Email": None,
        "U_AP_Phone": None,
        "U_AP_Notes": None,
        "U_FT_DFI_PRICING": "YES",
        "U_BOY_23_QCCS": None,
        "U_BOY_23_ADPRTCD": None,
        "U_BOY_TB_0": "N",
        "U_Warranty": "EXCHANGE",
        "U_MAP_Policy_Date": None,
        "ElectronicProtocols": [],
        "BPAddresses": [
            {
                "AddressName": "Planet Express",
                "Street": "1234 something changed",
                "Block": None,
                "ZipCode": "1234",
                "City": "New New York",
                "County": None,
                "Country": "CA",
                "State": "",
                "FederalTaxID": None,
                "TaxCode": None,
                "BuildingFloorRoom": "",
                "AddressType": "bo_ShipTo",
                "AddressName2": None,
                "AddressName3": None,
                "TypeOfAddress": None,
                "StreetNo": None,
                "BPCode": "MOM",
                "RowNum": 2,
                "GlobalLocationNumber": None,
                "Nationality": None,
                "TaxOffice": None,
                "GSTIN": None,
                "GstType": None,
                "CreateDate": "2021-06-04",
                "CreateTime": "13:51:19",
                "MYFType": None,
                "TaasEnabled": "tYES",
            },
            {
                "AddressName": "Mom Corp",
                "Street": "123 5th ave",
                "Block": None,
                "ZipCode": "10006",
                "City": "New York City",
                "County": None,
                "Country": "US",
                "State": "NY",
                "FederalTaxID": None,
                "TaxCode": None,
                "BuildingFloorRoom": None,
                "AddressType": "bo_ShipTo",
                "AddressName2": None,
                "AddressName3": None,
                "TypeOfAddress": None,
                "StreetNo": None,
                "BPCode": "MOM",
                "RowNum": 3,
                "GlobalLocationNumber": None,
                "Nationality": None,
                "TaxOffice": None,
                "GSTIN": None,
                "GstType": None,
                "CreateDate": "2021-06-04",
                "CreateTime": "13:48:12",
                "MYFType": None,
                "TaasEnabled": "tYES",
            },
            {
                "AddressName": "Mom Corp",
                "Street": "123 4th ave",
                "Block": None,
                "ZipCode": "10006",
                "City": "New York City",
                "County": None,
                "Country": "US",
                "State": "NY",
                "FederalTaxID": None,
                "TaxCode": None,
                "BuildingFloorRoom": "",
                "AddressType": "bo_BillTo",
                "AddressName2": None,
                "AddressName3": None,
                "TypeOfAddress": None,
                "StreetNo": None,
                "BPCode": "MOM",
                "RowNum": 4,
                "GlobalLocationNumber": None,
                "Nationality": None,
                "TaxOffice": None,
                "GSTIN": None,
                "GstType": None,
                "CreateDate": "2021-06-07",
                "CreateTime": "09:47:06",
                "MYFType": None,
                "TaasEnabled": "tYES",
            },
            {
                "AddressName": "Canadian Shipping",
                "Street": "456 Thank you way",
                "Block": None,
                "ZipCode": "V1X 8O8",
                "City": "Nice Town",
                "County": None,
                "Country": "CA",
                "State": "BC",
                "FederalTaxID": None,
                "TaxCode": None,
                "BuildingFloorRoom": None,
                "AddressType": "bo_ShipTo",
                "AddressName2": None,
                "AddressName3": None,
                "TypeOfAddress": None,
                "StreetNo": None,
                "BPCode": "MOM",
                "RowNum": 6,
                "GlobalLocationNumber": None,
                "Nationality": None,
                "TaxOffice": None,
                "GSTIN": None,
                "GstType": None,
                "CreateDate": "2021-06-24",
                "CreateTime": "12:06:48",
                "MYFType": None,
                "TaasEnabled": "tYES",
            },
            {
                "AddressName": "another billing address",
                "Street": "123 main st.",
                "Block": None,
                "ZipCode": "12345",
                "City": "Townsville",
                "County": None,
                "Country": "US",
                "State": "MN",
                "FederalTaxID": None,
                "TaxCode": None,
                "BuildingFloorRoom": None,
                "AddressType": "bo_BillTo",
                "AddressName2": None,
                "AddressName3": None,
                "TypeOfAddress": None,
                "StreetNo": None,
                "BPCode": "MOM",
                "RowNum": 7,
                "GlobalLocationNumber": None,
                "Nationality": None,
                "TaxOffice": None,
                "GSTIN": None,
                "GstType": None,
                "CreateDate": "2021-06-24",
                "CreateTime": "12:13:10",
                "MYFType": None,
                "TaasEnabled": "tYES",
            },
            {
                "AddressName": "billing 3",
                "Street": "123 nice ave.",
                "Block": None,
                "ZipCode": "12345",
                "City": "Townsville",
                "County": None,
                "Country": "US",
                "State": "NE",
                "FederalTaxID": None,
                "TaxCode": None,
                "BuildingFloorRoom": "unit A",
                "AddressType": "bo_BillTo",
                "AddressName2": None,
                "AddressName3": None,
                "TypeOfAddress": None,
                "StreetNo": None,
                "BPCode": "MOM",
                "RowNum": 8,
                "GlobalLocationNumber": None,
                "Nationality": None,
                "TaxOffice": None,
                "GSTIN": None,
                "GstType": None,
                "CreateDate": "2021-06-24",
                "CreateTime": "12:13:51",
                "MYFType": None,
                "TaasEnabled": "tYES",
            },
            {
                "AddressName": "More canada",
                "Street": "876 Curling Driive",
                "Block": None,
                "ZipCode": "V1A 1A1",
                "City": "Vancouver",
                "County": None,
                "Country": "CA",
                "State": "BC",
                "FederalTaxID": None,
                "TaxCode": None,
                "BuildingFloorRoom": "Unit 2",
                "AddressType": "bo_ShipTo",
                "AddressName2": None,
                "AddressName3": None,
                "TypeOfAddress": None,
                "StreetNo": None,
                "BPCode": "MOM",
                "RowNum": 9,
                "GlobalLocationNumber": None,
                "Nationality": None,
                "TaxOffice": None,
                "GSTIN": None,
                "GstType": None,
                "CreateDate": "2021-06-24",
                "CreateTime": "12:17:03",
                "MYFType": None,
                "TaasEnabled": "tYES",
            },
            {
                "AddressName": "Wernstrom Enterprise",
                "Street": "1729 cube way",
                "Block": None,
                "ZipCode": "12345",
                "City": "New New York",
                "County": None,
                "Country": "US",
                "State": "NY",
                "FederalTaxID": None,
                "TaxCode": None,
                "BuildingFloorRoom": "Unit 0",
                "AddressType": "bo_BillTo",
                "AddressName2": None,
                "AddressName3": None,
                "TypeOfAddress": None,
                "StreetNo": None,
                "BPCode": "MOM",
                "RowNum": 10,
                "GlobalLocationNumber": None,
                "Nationality": None,
                "TaxOffice": None,
                "GSTIN": None,
                "GstType": None,
                "CreateDate": "2021-09-09",
                "CreateTime": "10:22:02",
                "MYFType": None,
                "TaasEnabled": "tYES",
            },
            {
                "AddressName": "new shipping address",
                "Street": "1456 streety ave",
                "Block": None,
                "ZipCode": "12875",
                "City": "make belive town",
                "County": None,
                "Country": "US",
                "State": "OR",
                "FederalTaxID": None,
                "TaxCode": None,
                "BuildingFloorRoom": None,
                "AddressType": "bo_ShipTo",
                "AddressName2": None,
                "AddressName3": None,
                "TypeOfAddress": None,
                "StreetNo": None,
                "BPCode": "MOM",
                "RowNum": 11,
                "GlobalLocationNumber": None,
                "Nationality": None,
                "TaxOffice": None,
                "GSTIN": None,
                "GstType": None,
                "CreateDate": "2021-09-09",
                "CreateTime": "15:02:56",
                "MYFType": None,
                "TaasEnabled": "tYES",
            },
            {
                "AddressName": "Zoidberg",
                "Street": "9876 Lost City St",
                "Block": None,
                "ZipCode": "30301",
                "City": "Atlanta",
                "County": None,
                "Country": "US",
                "State": "GA",
                "FederalTaxID": None,
                "TaxCode": None,
                "BuildingFloorRoom": None,
                "AddressType": "bo_BillTo",
                "AddressName2": None,
                "AddressName3": None,
                "TypeOfAddress": None,
                "StreetNo": None,
                "BPCode": "MOM",
                "RowNum": 13,
                "GlobalLocationNumber": None,
                "Nationality": None,
                "TaxOffice": None,
                "GSTIN": None,
                "GstType": None,
                "CreateDate": "2022-02-25",
                "CreateTime": "11:37:59",
                "MYFType": None,
                "TaasEnabled": "tYES",
            },
            {
                "AddressName": "Awesome Express",
                "Street": "4567",
                "Block": None,
                "ZipCode": "10001",
                "City": "New New York",
                "County": None,
                "Country": "US",
                "State": "NY",
                "FederalTaxID": None,
                "TaxCode": None,
                "BuildingFloorRoom": None,
                "AddressType": "bo_ShipTo",
                "AddressName2": None,
                "AddressName3": None,
                "TypeOfAddress": None,
                "StreetNo": None,
                "BPCode": "MOM",
                "RowNum": 14,
                "GlobalLocationNumber": None,
                "Nationality": None,
                "TaxOffice": None,
                "GSTIN": None,
                "GstType": None,
                "CreateDate": "2022-02-25",
                "CreateTime": "11:39:02",
                "MYFType": None,
                "TaasEnabled": "tYES",
            },
        ],
        "ContactEmployees": [
            {
                "CardCode": "MOM",
                "Name": "Mom",
                "Position": None,
                "Address": "123 Fakes Street",
                "Phone1": "123123123",
                "Phone2": None,
                "MobilePhone": None,
                "Fax": None,
                "E_Mail": "droneinator+mom@gmail.com",
                "Pager": None,
                "Remarks1": None,
                "Remarks2": None,
                "Password": None,
                "InternalCode": 12697,
                "PlaceOfBirth": "AO",
                "DateOfBirth": "2121-06-04",
                "Gender": "gt_Undefined",
                "Profession": None,
                "Title": "CEO",
                "CityOfBirth": None,
                "Active": "tYES",
                "FirstName": "Mom",
                "MiddleName": None,
                "LastName": "Tester",
                "EmailGroupCode": None,
                "BlockSendingMarketingContent": "tNO",
                "CreateDate": "2021-05-26",
                "CreateTime": "11:31:14",
                "UpdateDate": "2021-12-15",
                "UpdateTime": "16:07:00",
                "ConnectedAddressName": None,
                "ConnectedAddressType": None,
                "ForeignCountry": None,
                "U_v33_TempPassword": None,
                "U_v33_PasswordHash": "passwords in plain text??",
                "U_v33_IsLoginEnabled": None,
                "U_v33_B1WebRoles": None,
                "U_v33_LinkedObjKey": None,
                "U_v33_Answer": None,
                "U_v33_Question": None,
                "U_ZEDS_BPLId": None,
                "U_BOY_85_ECAT": None,
                "U_BOY_85_ECAT2": None,
                "U_BOY_85_ECAT3": None,
                "U_BOY_85_ECAT4": None,
                "U_BOY_85_ECAT5": None,
                "ContactEmployeeBlockSendingMarketingContents": [],
            },
            {
                "CardCode": "MOM",
                "Name": "Walt",
                "Position": None,
                "Address": None,
                "Phone1": None,
                "Phone2": None,
                "MobilePhone": None,
                "Fax": None,
                "E_Mail": "droneinator+walter@gmail.com",
                "Pager": None,
                "Remarks1": None,
                "Remarks2": None,
                "Password": None,
                "InternalCode": 12698,
                "PlaceOfBirth": "-1",
                "DateOfBirth": None,
                "Gender": "gt_Undefined",
                "Profession": None,
                "Title": None,
                "CityOfBirth": None,
                "Active": "tYES",
                "FirstName": "Walter",
                "MiddleName": "Carol",
                "LastName": "Miller",
                "EmailGroupCode": None,
                "BlockSendingMarketingContent": "tNO",
                "CreateDate": "2021-06-04",
                "CreateTime": "10:44:29",
                "UpdateDate": "2021-12-15",
                "UpdateTime": "10:32:00",
                "ConnectedAddressName": None,
                "ConnectedAddressType": None,
                "ForeignCountry": None,
                "U_v33_TempPassword": None,
                "U_v33_PasswordHash": None,
                "U_v33_IsLoginEnabled": None,
                "U_v33_B1WebRoles": None,
                "U_v33_LinkedObjKey": None,
                "U_v33_Answer": None,
                "U_v33_Question": None,
                "U_ZEDS_BPLId": None,
                "U_BOY_85_ECAT": None,
                "U_BOY_85_ECAT2": None,
                "U_BOY_85_ECAT3": None,
                "U_BOY_85_ECAT4": None,
                "U_BOY_85_ECAT5": None,
                "ContactEmployeeBlockSendingMarketingContents": [],
            },
            {
                "CardCode": "MOM",
                "Name": "Ignar",
                "Position": None,
                "Address": None,
                "Phone1": None,
                "Phone2": None,
                "MobilePhone": None,
                "Fax": None,
                "E_Mail": "droneinator+Ignar@gmail.com",
                "Pager": None,
                "Remarks1": None,
                "Remarks2": None,
                "Password": None,
                "InternalCode": 12699,
                "PlaceOfBirth": "-1",
                "DateOfBirth": None,
                "Gender": "gt_Undefined",
                "Profession": None,
                "Title": "Lackey",
                "CityOfBirth": None,
                "Active": "tYES",
                "FirstName": "Ignar",
                "MiddleName": "Willy",
                "LastName": None,
                "EmailGroupCode": None,
                "BlockSendingMarketingContent": "tNO",
                "CreateDate": "2021-06-04",
                "CreateTime": "10:56:22",
                "UpdateDate": "2021-12-15",
                "UpdateTime": "10:32:00",
                "ConnectedAddressName": None,
                "ConnectedAddressType": None,
                "ForeignCountry": None,
                "U_v33_TempPassword": None,
                "U_v33_PasswordHash": None,
                "U_v33_IsLoginEnabled": None,
                "U_v33_B1WebRoles": None,
                "U_v33_LinkedObjKey": None,
                "U_v33_Answer": None,
                "U_v33_Question": None,
                "U_ZEDS_BPLId": None,
                "U_BOY_85_ECAT": None,
                "U_BOY_85_ECAT2": None,
                "U_BOY_85_ECAT3": None,
                "U_BOY_85_ECAT4": None,
                "U_BOY_85_ECAT5": None,
                "ContactEmployeeBlockSendingMarketingContents": [],
            },
            {
                "CardCode": "MOM",
                "Name": "Larry",
                "Position": "Goon",
                "Address": None,
                "Phone1": None,
                "Phone2": None,
                "MobilePhone": None,
                "Fax": None,
                "E_Mail": "droneinator+larry@gmail.com",
                "Pager": None,
                "Remarks1": None,
                "Remarks2": None,
                "Password": None,
                "InternalCode": 12700,
                "PlaceOfBirth": "-1",
                "DateOfBirth": None,
                "Gender": "gt_Undefined",
                "Profession": None,
                "Title": "Goon",
                "CityOfBirth": None,
                "Active": "tYES",
                "FirstName": "Larry",
                "MiddleName": None,
                "LastName": "Miller",
                "EmailGroupCode": None,
                "BlockSendingMarketingContent": "tNO",
                "CreateDate": "2021-06-04",
                "CreateTime": "13:53:49",
                "UpdateDate": "2022-02-25",
                "UpdateTime": "11:37:00",
                "ConnectedAddressName": None,
                "ConnectedAddressType": None,
                "ForeignCountry": None,
                "U_v33_TempPassword": None,
                "U_v33_PasswordHash": None,
                "U_v33_IsLoginEnabled": None,
                "U_v33_B1WebRoles": None,
                "U_v33_LinkedObjKey": None,
                "U_v33_Answer": None,
                "U_v33_Question": None,
                "U_ZEDS_BPLId": None,
                "U_BOY_85_ECAT": None,
                "U_BOY_85_ECAT2": None,
                "U_BOY_85_ECAT3": None,
                "U_BOY_85_ECAT4": None,
                "U_BOY_85_ECAT5": None,
                "ContactEmployeeBlockSendingMarketingContents": [],
            },
        ],
        "BPAccountReceivablePaybleCollection": [],
        "BPPaymentMethods": [],
        "BPWithholdingTaxCollection": [],
        "BPPaymentDates": [],
        "BPBranchAssignment": [],
        "BPBankAccounts": [],
        "BPFiscalTaxIDCollection": [],
        "DiscountGroups": [],
        "BPIntrastatExtension": {},
        "BPBlockSendingMarketingContents": [],
        "BPCurrenciesCollection": [],
        "payment_terms": "1% 45 Net 60 Days",
        "channel_slug": "dealer",
        "outside_sales_rep_emails": ["cmats@pmi-hawaii.com"],
        "outside_sales_rep_name": "Paradise Marketing",
    }


@pytest.fixture
def payment_terms():
    return {
        "odata.metadata": "https://api.myfirstech.com:50000/b1s/v1/$metadata#PaymentTermsTypes/@Element",
        "GroupNumber": 8,
        "PaymentTermsGroupName": "1% 45 Net 60 Days",
        "StartFrom": "pdt_None",
        "NumberOfAdditionalMonths": 0,
        "NumberOfAdditionalDays": 60,
        "CreditLimit": 0.0,
        "GeneralDiscount": 0.0,
        "InterestOnArrears": 0.0,
        "PriceListNo": 2,
        "LoadLimit": 0.0,
        "OpenReceipt": "oip_No",
        "DiscountCode": "1 per 45 Days",
        "DunningCode": "",
        "BaselineDate": "bld_TaxDate",
        "NumberOfInstallments": 0,
        "NumberOfToleranceDays": None,
    }


@pytest.fixture
def sales_person():
    return {
        "odata.metadata": "https://api.myfirstech.com:50000/b1s/v1/$metadata#SalesPersons/@Element",
        "SalesEmployeeCode": 21,
        "SalesEmployeeName": "Paradise Marketing",
        "Remarks": "",
        "CommissionForSalesEmployee": 0.0,
        "CommissionGroup": 0,
        "Locked": "tNO",
        "EmployeeID": None,
        "Active": "tYES",
        "Telephone": None,
        "Mobile": None,
        "Fax": None,
        "Email": "something@example.com",
        "U_BOY_50_BRKO": None,
    }


@pytest.fixture
def price_list_cache():
    return {
        "1": "MSRP",
        "2": "Dealer",
        "3": "Preferred",
        "4": "Preferred Plus",
        "5": "Elite",
        "6": "Distributor",
        "7": "Strategic Partner",
        "8": "Car Dealer Direct",
        "9": "Staub",
        "10": "RT",
        "11": "MESA Gold",
        "12": "Best Buy",
        "13": "RPM Dealer",
        "14": "RPM Program",
        "15": "PRM Distributor",
        "16": "RPM MESA Gold",
        "17": "RPM MESA Platinum",
        "18": "RPM Strategic Partner",
        "19": "Segi Warranty",
        "20": "Special 3",
        "21": "Special 4",
        "22": "Special 5",
        "23": "Special 6",
        "24": "Special 7",
        "25": "MESA Platinum",
        "26": "MAP",
        "27": "LISA",
    }


@pytest.fixture
def sap_shipping_types():
    return [
        {
            "Code": 1,
            "Name": "UPS Ground",
            "Website": "7W405A",
            "U_NWR_SerType": None,
            "U_NWR_CarType": None,
        },
        {
            "Code": 2,
            "Name": "UPS Orange - 3 Day Air",
            "Website": "7W405A",
            "U_NWR_SerType": None,
            "U_NWR_CarType": None,
        },
        {
            "Code": 3,
            "Name": "UPS Blue - 2nd Day Air",
            "Website": "7W405A",
            "U_NWR_SerType": None,
            "U_NWR_CarType": None,
        },
        {
            "Code": 4,
            "Name": "UPS Red - Next Day Air",
            "Website": "7W405A",
            "U_NWR_SerType": None,
            "U_NWR_CarType": None,
        },
        {
            "Code": 5,
            "Name": "UPS Freight_LTL",
            "Website": "7W405A",
            "U_NWR_SerType": None,
            "U_NWR_CarType": None,
        },
        {
            "Code": 6,
            "Name": "LTL Freight",
            "Website": "Freight Company",
            "U_NWR_SerType": None,
            "U_NWR_CarType": None,
        },
        {
            "Code": 7,
            "Name": "BBY SDF Ground",
            "Website": "610T3T",
            "U_NWR_SerType": None,
            "U_NWR_CarType": None,
        },
        {
            "Code": 8,
            "Name": "BBY SDF Blue - 2nd Day Air",
            "Website": "610T3T",
            "U_NWR_SerType": None,
            "U_NWR_CarType": None,
        },
        {
            "Code": 9,
            "Name": "BBY SDF Red - Next Day Air",
            "Website": "610T3T",
            "U_NWR_SerType": None,
            "U_NWR_CarType": None,
        },
        {
            "Code": 10,
            "Name": "BBY SDF Ground - Signature Required",
            "Website": "610T3T",
            "U_NWR_SerType": None,
            "U_NWR_CarType": None,
        },
        {
            "Code": 11,
            "Name": "BBY SDF Red - Signature Required",
            "Website": "610T3T",
            "U_NWR_SerType": None,
            "U_NWR_CarType": None,
        },
        {
            "Code": 12,
            "Name": "UPS Ground BBY",
            "Website": "7W405A Bill to Third Party",
            "U_NWR_SerType": None,
            "U_NWR_CarType": None,
        },
        {
            "Code": 13,
            "Name": "UPS Freight BBY",
            "Website": "7W405A Bill to Third Party",
            "U_NWR_SerType": None,
            "U_NWR_CarType": None,
        },
        {
            "Code": 14,
            "Name": "Standard Ground",
            "Website": "7W405A",
            "U_NWR_SerType": None,
            "U_NWR_CarType": None,
        },
        {
            "Code": 15,
            "Name": "Worldwide Expedited - 2nd Day Air",
            "Website": "7W405A",
            "U_NWR_SerType": None,
            "U_NWR_CarType": None,
        },
        {
            "Code": 16,
            "Name": "Worldwide Express- Next Day Air",
            "Website": "7W405A",
            "U_NWR_SerType": None,
            "U_NWR_CarType": None,
        },
        {
            "Code": 17,
            "Name": "Worldwide Saver - Express",
            "Website": "7W405A",
            "U_NWR_SerType": None,
            "U_NWR_CarType": None,
        },
        {
            "Code": 18,
            "Name": "Worldwide Express Freight - Next Day Air",
            "Website": "7W405A",
            "U_NWR_SerType": None,
            "U_NWR_CarType": None,
        },
        {
            "Code": 19,
            "Name": "Will Call",
            "Website": "",
            "U_NWR_SerType": None,
            "U_NWR_CarType": None,
        },
        {
            "Code": 20,
            "Name": "UPS_GND",
            "Website": "7W405A",
            "U_NWR_SerType": None,
            "U_NWR_CarType": None,
        },
        {
            "Code": 23,
            "Name": "UPS_Ground sender",
            "Website": "7W405A",
            "U_NWR_SerType": None,
            "U_NWR_CarType": None,
        },
        {
            "Code": 24,
            "Name": "UPS Express Saver",
            "Website": "7W405A",
            "U_NWR_SerType": None,
            "U_NWR_CarType": None,
        },
        {
            "Code": 25,
            "Name": "UPS Red Saturday Delivery - Next Day Air",
            "Website": "7W405A",
            "U_NWR_SerType": None,
            "U_NWR_CarType": None,
        },
        {
            "Code": 26,
            "Name": "BBY SDF Blue - Signature Required",
            "Website": "610T3T",
            "U_NWR_SerType": None,
            "U_NWR_CarType": None,
        },
        {
            "Code": 27,
            "Name": "UPS Ground with Freight Pricing",
            "Website": "7W405A",
            "U_NWR_SerType": None,
            "U_NWR_CarType": None,
        },
        {
            "Code": 28,
            "Name": "UPS Mail Innovations",
            "Website": "7W405A",
            "U_NWR_SerType": None,
            "U_NWR_CarType": None,
        },
        {
            "Code": 29,
            "Name": "Firstech Delivery Truck - Car Toys",
            "Website": None,
            "U_NWR_SerType": None,
            "U_NWR_CarType": None,
        },
    ]


@pytest.fixture
def shipping_methods():
    """Note the TrnspCode is being cast as a string because the shipping type migration
    script creates these methods using the graphql mutation for creating shipping
    methods, and that endpoint casts the private metadata fields into strings.
    """
    return [
        {
            "name": "Flat Rate",
            "type": "PRICE",
            "prices": [{"price": 0.00}],
            "privateMetadata": {"TrnspCode": "14", "TrnspName": "Standard Ground"},
        },
        {
            "name": "UPS Ground",
            "type": "PRICE",
            "prices": [
                {
                    "price": 12.50,
                    "minimumOrderPrice": 0.00,
                    "maximumOrderPrice": 249.99,
                },
                {
                    "price": 0.00,
                    "minimumOrderPrice": 250.00,
                },
            ],
            "privateMetadata": {"TrnspCode": "1", "TrnspName": "UPS Ground"},
        },
        {
            "name": "UPS 2-Day",
            "type": "PRICE",
            "prices": [
                {
                    "price": 17.50,
                    "minimumOrderPrice": 0.00,
                    "maximumOrderPrice": 249.99,
                },
                {
                    "price": 50.00,
                    "minimumOrderPrice": 250.00,
                    "maximumOrderPrice": 999.99,
                },
                {
                    "price": 80.00,
                    "minimumOrderPrice": 1000.00,
                    "maximumOrderPrice": 1999.99,
                },
                {
                    "price": 150.00,
                    "minimumOrderPrice": 2000.00,
                    "maximumOrderPrice": 2999.99,
                },
                {
                    "price": 0.00,
                    "minimumOrderPrice": 3000.00,
                },
            ],
            "privateMetadata": {
                "TrnspCode": "3",
                "TrnspName": "UPS Blue - 2nd Day Air",
            },
        },
        {
            "name": "UPS Next Day",
            "type": "PRICE",
            "prices": [
                {
                    "price": 30.00,
                    "minimumOrderPrice": 0.00,
                    "maximumOrderPrice": 249.99,
                },
                {
                    "price": 100.00,
                    "minimumOrderPrice": 250.00,
                    "maximumOrderPrice": 999.99,
                },
                {
                    "price": 160.00,
                    "minimumOrderPrice": 1000.00,
                    "maximumOrderPrice": 1999.99,
                },
                {
                    "price": 250.00,
                    "minimumOrderPrice": 2000.00,
                    "maximumOrderPrice": 2999.99,
                },
                {
                    "price": 0.00,
                    "minimumOrderPrice": 3000.00,
                },
            ],
            "privateMetadata": {
                "TrnspCode": "4",
                "TrnspName": "UPS Red - Next Day Air",
            },
        },
        {
            "name": "Local Pickup",
            "type": "PRICE",
            "prices": [{"price": 0.00}],
            "privateMetadata": {"TrnspCode": "19", "TrnspName": "Will Call"},
        },
        {
            "name": "CUSTOM SAP SHIPPING",
            "type": "PRICE",
            "prices": [{"price": 0.00}],
        },
    ]


@pytest.fixture
def inside_sales_reps():
    inside_sales_rep_map = {
        "Danny": "dfellers@compustar.com",
        "Rob": "rsanden@compustar.com",
        "Jason": "jkaminski@compustar.com",
        "Justin R.": "jriego@compustar.com",
        "Brian": "bshaw@compustar.com",
        "Tanner": "twilson@compustar.com",
    }
    # Create the inside sales rep user accounts
    for name, email in inside_sales_rep_map.items():
        first_name = last_name = ""
        name_list = name.split()
        try:
            first_name = name_list[0]
            last_name = name_list[1]
        except IndexError:
            pass

        user = User.objects.create_user(
            first_name=first_name, last_name=last_name, email=email, is_staff=True
        )
        SAPSalesManager.objects.create(name=name, user=user)


@pytest.fixture
def ecommerce_basic_setup(
    sap_sales_order,
    sap_business_partner,
    sap_shipping_types,
    shipping_methods,
    inside_sales_reps,
):
    """Creates a basic e-commerce setup consisting of
    - The dealer channel
    - The X1-LTE product and variant
    - The X1-LTEMax product and variant
    - All shipping methods and types
    - The Kent warehouse
    - The US shipping zone
    """

    def create_product(product_type, name, sku, price, channel):
        product = Product.objects.create(
            name=name, product_type=product_type, slug=name.lower()
        )

        product_variant = ProductVariant.objects.create(
            sku=sku,
            product=product,
            track_inventory=True,
        )

        ProductVariantChannelListing.objects.create(
            currency="USD",
            price_amount=price,
            channel=channel,
            variant=product_variant,
        )

        yesterday = timezone.now() - timedelta(days=1)

        ProductChannelListing.objects.create(
            publication_date=yesterday.date(),
            available_for_purchase=yesterday.date(),
            is_published=True,
            channel=channel,
            product=product,
            currency="USD",
            visible_in_listings=True,
        )

    channel = Channel.objects.create(
        name="Dealer",
        is_active=True,
        slug="dealer",
        currency_code="USD",
        default_country="US",
    )

    product_type = ProductType.objects.create(
        name="Drone Module",
        has_variants=False,
        is_shipping_required=True,
        weight=0,
        is_digital=False,
        slug="drone-module",
    )

    create_product(
        product_type,
        name="DR-X1 LTE, Cell + GPS, BG96MC-128-SGNS",
        sku="X1-LTE",
        price=90,
        channel=channel,
    )
    create_product(
        product_type,
        name="DR-X1MAX LTE, Cell, GPS, BLE, Sensors and Back-up batt BG96MC-128-SGNS",
        sku="X1MAX-LTE",
        price=90,
        channel=channel,
    )

    warehouse_address = Address.objects.create(
        street_address_1="21903 68th Avenue South",
        city="KENT",
        postal_code=98032,
        country="US",
        country_area="WA",
    )
    warehouse = Warehouse.objects.create(
        name="Kent, WA", slug="kent-wa", address=warehouse_address
    )
    shipping_zone = ShippingZone.objects.create(
        name="USA",
        countries=["US"],
    )
    shipping_zone.channels.add(channel)
    warehouse.shipping_zones.add(shipping_zone)

    for sap_shipping_method in shipping_methods:
        for price in sap_shipping_method["prices"]:
            shipping_method = ShippingMethod.objects.create(
                name=sap_shipping_method["name"],
                type="price",
                minimum_order_weight=0,
                shipping_zone=shipping_zone,
                private_metadata=sap_shipping_method.get("privateMetadata", {}),
            )

            ShippingMethodChannelListing.objects.create(
                shipping_method=shipping_method,
                channel=channel,
                price_amount=price["price"],
                currency="USD",
                minimum_order_price_amount=price.get("minimumOrderPrice", 0),
                maximum_order_price_amount=price.get("maximumOrderPrice"),
            )

    # Create the outside sales rep for this business partner
    User.objects.create_user(email=sap_business_partner["outside_sales_rep_emails"][0])
    bp = upsert_business_partner(sap_business_partner)
    upsert_business_partner_addresses(sap_business_partner, bp)
    upsert_business_partner_contacts(sap_business_partner, bp)


@pytest.fixture
def sap_plugin(settings):
    settings.PLUGINS = ["saleor.plugins.sap_orders.plugin.SAPPlugin"]

    configuration = [
        {"name": "Username", "type": "String", "value": "test"},
        {"name": "Password", "type": "Password", "value": "test"},
        {"name": "Database", "type": "String", "value": "test"},
        {"name": "SAP Service Layer URL", "type": "String", "value": "test"},
        {"name": "SSL Verification", "type": "Boolean", "value": True},
    ]

    PluginConfiguration.objects.create(
        identifier=SAPPlugin.PLUGIN_ID,
        name=SAPPlugin.PLUGIN_NAME,
        active=True,
        configuration=configuration,
    )
    manager = get_plugins_manager()

    sap_plugin = manager.get_plugin(plugin_id="firstech.sap")
    sap_plugin.sync_to_SAP = False

    return sap_plugin
